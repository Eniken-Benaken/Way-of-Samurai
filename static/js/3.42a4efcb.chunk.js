(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[3],{252:function(t,e,s){"use strict";var a=s(2),n=s(4),c=s(5),o=s(11),r=s(12),i=s(1),u=s(0),_=s.n(u),j=s(16),d=s(10),l=s(33),p=function(t){return{is_auth:Object(l.h)(t)}};e.a=function(t){var e=function(e){Object(o.a)(u,e);var s=Object(r.a)(u);function u(){return Object(n.a)(this,u),s.apply(this,arguments)}return Object(c.a)(u,[{key:"render",value:function(){return this.props.is_auth?Object(i.jsx)(t,Object(a.a)({},this.props)):Object(i.jsx)(d.a,{to:"/login"})}}]),u}(_.a.Component);return Object(j.b)(p)(e)}},256:function(t,e,s){t.exports={profile_wrapper:"Profile_profile_wrapper__1YLEU"}},257:function(t,e,s){t.exports={posts:"MyPosts_posts__3ng4M",new_post:"MyPosts_new_post__bwkT4",new_post_content:"MyPosts_new_post_content__2WQf-"}},258:function(t,e,s){t.exports={item:"Post_item__1I4R3",post_content_wrapper:"Post_post_content_wrapper__3Z6oL",author:"Post_author__1dN6P",post_content:"Post_post_content__1rFbh",action_buttons:"Post_action_buttons__1kYno",likes:"Post_likes__34yDk",add_comment:"Post_add_comment__nNteY"}},259:function(t,e,s){t.exports={profileInfo_wrapper:"ProfileInfo_profileInfo_wrapper__PT8YA",banner:"ProfileInfo_banner__2jObx",person_info:"ProfileInfo_person_info__34u4h",avatar_block:"ProfileInfo_avatar_block__1nFGo",user_name:"ProfileInfo_user_name__38mv_",looking_for_job:"ProfileInfo_looking_for_job__2IveP",description_block:"ProfileInfo_description_block__1TkpC",description_content:"ProfileInfo_description_content__2lwQJ"}},260:function(t,e,s){"use strict";s.r(e);var a=s(2),n=s(4),c=s(5),o=s(11),r=s(12),i=s(1),u=s(0),_=s(256),j=s.n(_),d=s(7),l=s(16),p=s(8),b=s(36),f=s(62),h=function(t){var e=t.addPost,s=f.a({new_post:f.b().max(200,"Your post text is too long")});return Object(i.jsx)(b.d,{initialValues:{new_post:""},validationSchema:s,onSubmit:function(t){e(t.new_post)},children:Object(i.jsxs)(b.c,{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)(b.b,{type:"textarea",name:"new_post"}),Object(i.jsx)(b.a,{name:"new_post"})]}),Object(i.jsx)("button",{type:"submit",children:"Add Post"})]})})},O=s(257),m=s.n(O),x=s(258),v=s.n(x),k=function(t){return Object(i.jsxs)("div",{className:v.a.item,id:t.id,children:[Object(i.jsx)("img",{src:"https://i.guim.co.uk/img/media/d31ebd49b32a5aa609a584ababb1e03bc70b4942/573_213_2929_1758/master/2929.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=a54fc963e39dd6645fce012663ed13c1",alt:"avatar"}),Object(i.jsxs)("div",{className:v.a.post_content_wrapper,children:[Object(i.jsx)("div",{className:v.a.author,children:Object(i.jsx)("a",{href:t.author_url,children:t.author})}),Object(i.jsx)("div",{className:v.a.post_content,children:t.post_content})]}),Object(i.jsxs)("div",{className:v.a.action_buttons,children:[Object(i.jsxs)("div",{className:v.a.likes,children:[t.likes_count,"\u2764"," like"]}),Object(i.jsx)("div",{className:v.a.add_comment,children:"add comment"})]})]})},P=function(t){var e=t.posts;return Object(i.jsxs)("div",{className:m.a.posts,children:[Object(i.jsx)("div",{className:m.a.new_post,children:Object(i.jsx)(h,{addPost:function(e){t.addPost(e)}})}),e.map((function(t){return Object(i.jsx)(k,{id:t.id,author:t.author,post_content:t.post_content,likes_count:t.likes_count},t.id)}))]})},w=Object(l.b)((function(t){return{posts:Object(a.a)(Object(a.a)({},t),{},{profile:{posts:Object(d.a)(t.profile.posts)}}).profile.posts}}),(function(t){return{addPost:function(e){var s=Object(p.a)(e);t(s)}}}))(P),g=s(43),N=s(259),y=s.n(N),I=s(91),S=s(40),C=function(t){var e=t.statusText,s=t.ownProfile,a=t.updateStatus,n=Object(u.useState)(e),c=Object(S.a)(n,2),o=c[0],r=c[1],_=Object(u.useState)(e),j=Object(S.a)(_,2),d=j[0],l=j[1];""===o&&s&&r("Double-click here to add status"),Object(u.useEffect)((function(){r(e)}),[e]);var p=function(){l(!d)};return s?d?Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{"data-testid":"statusChangeInput",type:"text",autoFocus:!0,onChange:function(t){r(t.target.value)},value:o}),Object(i.jsx)("button",{"data-testid":"saveStatusButton",onClick:function(){p(),a(o)},children:"Save Changes"})]}):Object(i.jsx)("span",{"data-testid":"ownStatusText",onDoubleClick:p,children:e},"status"):Object(i.jsx)("span",{"data-testid":"statusText",children:o},"status")},F=function(t){var e=t.current_visited_user,s=t.isFetching,a=t.status,n=t.updateStatus,c=t.user_id;if(s)return Object(i.jsx)(g.a,{});if(!e)return Object(i.jsx)(g.a,{});var o=e.userId===c,r=e.lookingForAJob?Object(i.jsx)("span",{className:y.a.looking_for_job,children:"\ud83e\udd11"}):Object(i.jsx)("span",{className:y.a.looking_for_job,children:"\ud83e\udd20"}),u=[];for(var _ in e.contacts)e.contacts[_]?u.push(Object(i.jsx)("div",{className:y.a.contact,children:"".concat(_,": ").concat(e.contacts[_])},_)):u.push(Object(i.jsx)("div",{className:y.a.contact,children:"".concat(_,": --")},_));var j=e.photos.large?Object(i.jsx)("img",{src:e.photos.large,alt:"avatar"}):Object(i.jsx)("img",{src:I.a,alt:"avatar"});return Object(i.jsxs)("div",{className:y.a.profileInfo_wrapper,children:[Object(i.jsx)("div",{className:y.a.banner,children:Object(i.jsx)("img",{src:"https://source.unsplash.com/1000x200/?city",alt:"newyear"})}),Object(i.jsxs)("div",{className:y.a.person_info,children:[Object(i.jsxs)("div",{className:y.a.avatar_block,children:[Object(i.jsxs)("div",{className:y.a.user_name,children:[e.fullName," ",r]}),j,Object(i.jsx)("button",{children:"Change Profile Photo"})]}),Object(i.jsxs)("div",{className:y.a.description_block,children:[Object(i.jsx)("h3",{className:y.a.description_header,children:"About me"}),Object(i.jsx)("div",{className:y.a.description_content,children:Object(i.jsx)(C,{statusText:a,ownProfile:o,updateStatus:n})}),Object(i.jsx)("h3",{className:y.a.description_header,children:"Contacts:"}),u]})]})]})},T=function(t){var e=t.current_visited_user,s=t.isFetching,a=t.status,n=t.updateStatus,c=t.setCurrentRoute,o=t.user_id;return c("/profile"),Object(i.jsxs)("main",{className:j.a.profile_wrapper,children:[Object(i.jsx)(F,{current_visited_user:e,isFetching:s,status:a,updateStatus:n,user_id:o}),Object(i.jsx)(w,{})]})},D=s(25),M=s(10),Y=s(252),A=s(24),J=s(33),R=function(t){Object(o.a)(s,t);var e=Object(r.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.user_id),this.props.getUserData(t)}},{key:"render",value:function(){return Object(i.jsx)(T,Object(a.a)({},this.props))}}]),s}(u.Component);e.default=Object(A.d)(Object(l.b)((function(t){return{current_visited_user:Object(J.e)(t),is_fetching:Object(J.i)(t),status:Object(J.f)(t),user_id:Object(J.c)(t)}}),{getUserData:D.b,updateStatus:D.h,setCurrentRoute:p.f}),M.f,Y.a)(R)}}]);
//# sourceMappingURL=3.42a4efcb.chunk.js.map