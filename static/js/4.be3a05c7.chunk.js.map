{"version":3,"sources":["components/common/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","components/Forms/MessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToProps","state","is_auth","getIsAuth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Dialog","id","dialog_avatar","dialog_name","path","className","s","dialog","activeClassName","active","src","alt","Message","message_id","author_id","message","author","own","MessageForm","sendMessage","validationSchema","Yup","new_message","max","initialValues","onSubmit","values","type","name","Dialogs","dialogs","messages","setCurrentRoute","dialogsArray","messagesArray","dialogs_wrapper","dialog_items","map","d","m","author_name","compose","getDialogs","dispatch","sendMessageActionCreator","current_route"],"mappings":"gNAKIA,EAAkB,SAACC,GAAD,MAAY,CACjCC,QAASC,YAAUF,KAeLG,IAbU,SAACC,GAAe,IAClCC,EADiC,uKAGrC,OAAIC,KAAKC,MAAMN,QAEd,cAACG,EAAD,eAAeE,KAAKC,QAFU,cAAC,IAAD,CAAUC,GAAG,eAHP,GACPC,IAAML,WAStC,OAAOM,YAAQX,EAARW,CAAyBL,K,oBCjBjCM,EAAOC,QAAU,CAAC,gBAAkB,iCAAiC,aAAe,8BAA8B,SAAW,0BAA0B,oBAAsB,qCAAqC,YAAc,6BAA6B,oBAAsB,uC,oBCAnRD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,yB,oBCA3DD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,IAAM,uB,oHCgB5CC,EAbA,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,GAAGC,EAA+B,EAA/BA,cAAcC,EAAiB,EAAjBA,YAC3BC,EAAI,mBAAeH,GAEzB,OACC,qBAAKI,UAAWC,IAAEC,OAAlB,SACC,eAAC,IAAD,CAASZ,GAAIS,EAAMI,gBAAiBF,IAAEG,OAAtC,UACC,qBAAKC,IAAKR,EAAeS,IAAI,kBAC7B,8BAAMR,U,kBCDKS,EANC,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,WAAWC,EAAuB,EAAvBA,UAAUC,EAAa,EAAbA,QACtC,OACC,qBAAKd,GAAIY,EAAYG,OAAQF,EAAWT,UAAS,UAAKC,IAAES,QAAP,YAAgC,IAAdD,GAAiBR,IAAEW,KAAtF,SAA8FF,K,gBC4CjFG,EA5CK,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,YASfC,EAAmBC,IAAW,CACnCC,YAAaD,MAAaE,IAAI,IAAK,8BAapC,OACC,cAAC,IAAD,CACCC,cAxBoB,CACrBF,YAAa,IAwBZF,iBAAkBA,EAClBK,SAtBe,SAAAC,GAChBP,EAAYO,EAAOJ,cAkBnB,SAKC,eAAC,IAAD,WACC,gCACC,cAAC,IAAD,CACCK,KAAK,WACLC,KAAK,gBAGN,cAAC,IAAD,CAAcA,KAAK,mBAEpB,wBAAQD,KAAK,SAAb,gCCfWE,EArBC,SAAC,GAA8D,IAAD,IAA5DC,QAASA,EAAmD,EAAnDA,QAAQC,EAA2C,EAA3CA,SAAUZ,EAAiC,EAAjCA,aAC5Ca,EAD6E,EAArBA,iBACxC,YAChB,IAAIC,EAAY,YAAOH,GACnBI,EAAa,YAAOH,GAKxB,OACC,sBAAK1B,UAAWC,IAAE6B,gBAAlB,UACC,qBAAK9B,UAAWC,IAAE8B,aAAlB,SACEH,EAAaI,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAmBrC,GAAIqC,EAAErC,GAAIE,YAAamC,EAAEnC,YAAaD,cAAeoC,EAAEpC,eAA7DoC,EAAErC,SAEvC,sBAAKI,UAAWC,IAAEyB,SAAlB,UACEG,EAAcG,KAAI,SAAAE,GAAC,OAAI,cAAC,EAAD,CAA4B1B,WAAY0B,EAAE1B,WAAYE,QAASwB,EAAExB,QAASyB,YAAaD,EAAEC,YAAa1B,UAAWyB,EAAEzB,WAArGyB,EAAE1B,eACxC,cAAC,EAAD,CAAaM,YAXO,SAACG,GACtBH,EAAYG,a,iCCWAmB,sBACd5C,aAlBuB,SAACV,GACxB,MAAQ,CACP2C,QAASY,YAAWvD,OAIK,SAACwD,GAC3B,MAAQ,CACPxB,YAAa,SAACG,GAAD,OAAiBqB,EAASC,YAAyBtB,KAChEU,gBAAiB,SAACa,GAAD,OAAmBF,EAASX,YAAgBa,SAU9DvD,IAFcmD,CAGbZ","file":"static/js/4.be3a05c7.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { getIsAuth } from '../../redux/selectors';\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tis_auth: getIsAuth(state),\r\n})\r\nconst withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif(!this.props.is_auth) return <Redirect to=\"/login\" />\r\n\t\t\treturn(\r\n\t\t\t\t<Component {...this.props} />\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\nexport default withAuthRedirect;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_wrapper\":\"Dialogs_dialogs_wrapper__2zTOg\",\"dialog_items\":\"Dialogs_dialog_items__3Rvu-\",\"messages\":\"Dialogs_messages__2iZpL\",\"new_message_wrapper\":\"Dialogs_new_message_wrapper__2Aspz\",\"new_message\":\"Dialogs_new_message__2IxTl\",\"new_message_buttons\":\"Dialogs_new_message_buttons__3TgVg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__Hc26M\",\"active\":\"Dialog_active__96BS5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__24nBZ\",\"own\":\"Message_own__19eSK\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Dialog.module.css';\r\n\r\nconst Dialog = ({id,dialog_avatar,dialog_name}) => {\r\n\tconst path = `/dialogs/${id}`;\r\n\r\n\treturn (\r\n\t\t<div className={s.dialog}>\r\n\t\t\t<NavLink to={path} activeClassName={s.active}>\r\n\t\t\t\t<img src={dialog_avatar} alt='dialog_avatar'></img>\r\n\t\t\t\t<div>{dialog_name}</div>\r\n\t\t\t</NavLink>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Dialog;\r\n","import React from 'react';\r\nimport s from './Message.module.css';\r\n\r\n\r\nconst Message = ({message_id,author_id,message}) => {\r\n\treturn(\r\n\t\t<div id={message_id} author={author_id} className={`${s.message} ${author_id === 0&&s.own}`}>{message}</div>\r\n\t);\r\n}\r\n\r\nexport default Message;\r\n","import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\n// import { submitLogin } from '../../redux/thunkCreators';\r\n// import s from './MessageForm.module.css';\r\n\r\nconst MessageForm = ({sendMessage}) => {\r\n\tconst initialValues = {\r\n\t\tnew_message: '',\r\n\t}\r\n\r\n\tconst onSubmit = values => {\r\n\t\tsendMessage(values.new_message);\r\n\t}\r\n\r\n\tconst validationSchema = Yup.object({\r\n\t\tnew_message: Yup.string().max(200, \"Your message is too long\")\r\n\t})\r\n\r\n\r\n\t// const sd =\r\n\t// \t<div className={s.new_message_wrapper}>\r\n\t// \t\t<textarea ref={newMessage} className={s.new_message} value={newMessageState} onChange={handleNewMessageChange}></textarea>\r\n\t// \t\t<div className={s.new_message_buttons}>\r\n\t// \t\t\t<button onClick={sendMessage}>Add message</button>\r\n\t// \t\t\t<button>ðŸ˜‰</button>\r\n\t// \t\t</div>\r\n\t// \t</div>\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={initialValues}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={onSubmit}\r\n\t\t>\r\n\t\t\t<Form>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\tname=\"new_message\"\r\n\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='new_message' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type=\"submit\">Send message</button>\r\n\t\t\t</Form>\r\n\t\t</Formik>\r\n\t);\r\n}\r\n\r\nexport default MessageForm;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport Dialog from './Dialog/Dialog';\r\nimport Message from './Message/Message';\r\nimport MessageForm from '../Forms/MessageForm';\r\n\r\n\r\n\r\nconst Dialogs = ({dialogs:{dialogs,messages},sendMessage,setCurrentRoute}) => {\r\n\tsetCurrentRoute(\"/dialogs\");\r\n\tlet dialogsArray = [...dialogs];\r\n\tlet messagesArray = [...messages];\r\n\tconst sendNewMessage = (new_message) => {\r\n\t\t\tsendMessage(new_message);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={s.dialogs_wrapper}>\r\n\t\t\t<div className={s.dialog_items}>\r\n\t\t\t\t{dialogsArray.map(d => <Dialog key={d.id} id={d.id} dialog_name={d.dialog_name} dialog_avatar={d.dialog_avatar} />)}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.messages}>\r\n\t\t\t\t{messagesArray.map(m => <Message key={m.message_id} message_id={m.message_id} message={m.message} author_name={m.author_name} author_id={m.author_id} />)}\r\n\t\t\t\t<MessageForm sendMessage={sendNewMessage} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Dialogs;\r\n","import { sendMessageActionCreator, setCurrentRoute } from '../../redux/actionCreators';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport withAuthRedirect from '../common/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getDialogs } from '../../redux/selectors';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tdialogs: getDialogs(state)\r\n\t});\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn ({\r\n\t\tsendMessage: (new_message) => dispatch(sendMessageActionCreator(new_message)),\r\n\t\tsetCurrentRoute: (current_route) => dispatch(setCurrentRoute(current_route))\r\n\t})\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps,mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}