(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{120:function(e,t,n){e.exports={posts:"News_posts__3V4HP"}},121:function(e,t,n){e.exports={users:"Users_users__3-FMn",pagination:"Users_pagination__2OmqP",page:"Users_page__2Unf2",active_page:"Users_active_page__An9pd"}},15:function(e,t,n){e.exports={sidebar_wrapper:"Sidebar_sidebar_wrapper__3bqJp",menu:"Sidebar_menu__oKIKk",menu_item:"Sidebar_menu_item__2pcG6",active:"Sidebar_active__3_vA7",menu_item_icon:"Sidebar_menu_item_icon__1SAAl",friends_bar:"Sidebar_friends_bar__2DiYk",friends_header:"Sidebar_friends_header__125Qt",friends_block:"Sidebar_friends_block__385Hh",friend:"Sidebar_friend__3bzw9",friend_avatar:"Sidebar_friend_avatar__2xHms",friend_name:"Sidebar_friend_name__1i7aI"}},151:function(e,t,n){},17:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"o",(function(){return a})),n.d(t,"p",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"n",(function(){return j}));var r=function(e){return e.auth.is_auth},a=function(e){return e.auth.submit_error},s=function(e){return e.auth.submit_error_code},i=function(e){return e.app.current_route},c=function(e){return e.auth.login},o=function(e){return e.auth.email},u=function(e){return e.auth.id},l=function(e){return e.auth.captcha_url},_=function(e){return e.profile.current_visited_user},d=function(e){return e.profile.status},p=function(e){return e.profile.is_fetching},f=function(e){return e.profile.photoUploaded},b=function(e){return e.dialogs},h=function(e){return e.profile.posts},m=function(e){return e.sidebar.friends},j=function(e){return e.sidebar.menu_items}},254:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(25),s=n(86),i={news_posts:[{id:1,author:"Buddy Melon",author_url:"/buddymelon",post_content:"Today's Weather is perfect!",likes_count:26},{id:2,author:"John Smith",author_url:"/johnsmith",post_content:"Hello! I'm learning React js too!!",likes_count:202}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return e},o=n(84),u={friends:[{id:1,friend_avatar:"https://million-wallpapers.ru/wallpapers/5/51/424703866779568/nejtiri-2017-avatara-2.jpg",friend_name:"Tairin"},{id:2,friend_avatar:"https://pbs.twimg.com/media/EgFRKr2WAAA-RRY.jpg",friend_name:"Tsu Tei"},{id:3,friend_avatar:"https://www.film.ru/sites/default/files/images/Sigourney-Weaver2.jpg",friend_name:"Grace Austin"}],menu_items:[{id:1,icon:"\ud83d\udc64",item:"Profile",path:"/profile"},{id:2,icon:"\u2709",item:"Messages",path:"/dialogs"},{id:3,icon:"\ud83d\udc65",item:"Users",path:"/users"},{id:4,icon:"\ud83d\udce2",item:"News",path:"/news"},{id:5,icon:"\u266b",item:"Music",path:"/music"},{id:6,icon:"\u26ee",item:"Settings",path:"/settings"}]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return e},_=n(9),d=n(3),p=n(2),f=n.n(p),b=n(4),h=n(5),m=function(){var e=arguments;return Object(b.a)(f.a.mark((function t(){var n,r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,r=e.length>1&&void 0!==e[1]?e[1]:50,t.prev=2,t.next=5,h.a.get("users?page=".concat(n,"&count=").concat(r));case 5:return a=t.sent,console.log(a),t.abrupt("return",a.data);case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},j=function(e){return Object(b.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},g=function(e){return Object(b.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()};function O(e,t,n,r){return e.map((function(e){return e[n]===t?Object(d.a)(Object(d.a)({},e),r):e}))}var v=function(e){return{type:"wos/users/FOLLOW_USER",user_id:e}},w=function(e){return{type:"wos/users/UNFOLLOW_USER",user_id:e}},x=function(e){return{type:"wos/users/SET_USERS",users:e}},k=function(e){return{type:"wos/users/SET_CURRENT_USERS_PAGE",active_page:e}},S=function(e,t){return{type:"wos/users/TOGGLE_FOLLOWING",user_id:e,is_fetching:t}},y=function(){var e=Object(b.a)(f.a.mark((function e(t,n,r,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(S(n,!0)),e.next=3,a(n);case 3:e.sent.resultCode===h.c.Success?(t(S(n,!1)),t(r(n))):console.error("Error has occured when tried to follow/unfollow");case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),U={users:[],page_size:10,total_users_count:501,active_page:1,is_fetching:!1,is_following:[],portion_size:20},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"wos/users/FOLLOW_USER":return Object(d.a)(Object(d.a)({},e),{},{users:O(e.users,t.user_id,"id",{followed:!0})});case"wos/users/UNFOLLOW_USER":return Object(d.a)(Object(d.a)({},e),{},{users:O(e.users,t.user_id,"id",{followed:!1})});case"wos/users/SET_USERS":return Object(d.a)(Object(d.a)({},e),{},{users:Object(_.a)(t.users)});case"wos/users/SET_CURRENT_USERS_PAGE":return Object(d.a)(Object(d.a)({},e),{},{active_page:t.active_page});case"wos/users/TOGGLE_FOLLOWING":return Object(d.a)(Object(d.a)({},e),{},{is_following:t.is_fetching?[].concat(Object(_.a)(e.is_following),[t.user_id]):e.is_following.filter((function(e){return e!==t.user_id}))});default:return e}},T=n(30),P=n(55),E=n(118),C=Object(a.c)({profile:o.a,dialogs:s.a,news:c,sidebar:l,users:N,auth:T.a,app:P.b}),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,R=Object(a.e)(C,I(Object(a.a)(E.a))),A=n(0),L=n.n(A),D=n(63),M=n.n(D),G=n(6),z=n(7),F=n(12),H=n(13),q=(n(151),n(16)),B=n(17),W=n(23),X=n(79),Y=n.n(X),J=function(e){var t=e.is_auth,n=e.login,a=e.signOut,s=t?[Object(r.jsxs)("span",{children:["Welcome, ",n]},"span"),Object(r.jsx)("button",{onClick:a,children:"Sign Out"},"signOut")]:Object(r.jsx)(W.b,{to:"/login",children:"Sign in"},"signin");return Object(r.jsxs)("header",{className:Y.a.header,children:[Object(r.jsx)("img",{src:"https://dummyimage.com/160x46/ffffff/5cc6fe&text=React+Net",alt:"fuck-off"}),Object(r.jsx)("div",{className:Y.a.loginBlock,children:s})]})},V=function(e){Object(F.a)(n,e);var t=Object(H.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(r.jsx)(J,{is_auth:this.props.is_auth,login:this.props.login,signOut:this.props.signOut})}}]),n}(A.Component),K=Object(q.b)((function(e){return{email:Object(B.c)(e),login:Object(B.e)(e),is_auth:Object(B.j)(e)}}),{signOut:T.d})(V),Q=n(52),Z=n.n(Q),$=function(e){return Object(r.jsxs)("div",{className:Z.a.track,children:[Object(r.jsx)("div",{className:Z.a.cover,children:"\u266a"}),Object(r.jsx)("div",{className:Z.a.track_name,children:e.track_name}),Object(r.jsx)("div",{className:Z.a.track_duration,children:e.track_duration})]})},ee=n(82),te=n.n(ee),ne=function(e){return Object(r.jsxs)("div",{className:te.a.music_wrapper,children:[Object(r.jsx)("div",{className:te.a.music_header,children:"My music"}),Object(r.jsx)($,{track_name:"\u0416\u0438\u0432\u0438 - \u0412\u0430\u0441\u044f \u041e\u0431\u043b\u043e\u043c\u043e\u0432",track_duration:"4:37"}),Object(r.jsx)($,{track_name:"Dance Of The Fireflies - Lifescapes",track_duration:"4:38"})]})},re=n(37),ae=n.n(re),se=function(e){return Object(r.jsxs)("div",{className:ae.a.settings_wrapper,children:[Object(r.jsx)("div",{className:ae.a.settings_header,children:"Personal info"}),Object(r.jsxs)("div",{className:ae.a.person_info,children:[Object(r.jsxs)("div",{className:ae.a.name,children:["Your name: ",Object(r.jsx)("input",{type:"text",value:"Dem"})," Your lastname: ",Object(r.jsx)("input",{type:"text",value:"Pigeon"})]}),Object(r.jsxs)("div",{className:ae.a.login_info,children:["Your email: ",Object(r.jsx)("input",{type:"email",value:"Dem.Pigeon@gmail.com"})," Your password: ",Object(r.jsx)("input",{type:"password",value:"PigeonRules"})]}),Object(r.jsxs)("div",{className:ae.a.phone_number,children:["Your phone number: ",Object(r.jsx)("input",{type:"text",value:"+1351245239"})]})]}),Object(r.jsxs)("div",{className:ae.a.action_buttons,children:[Object(r.jsx)("button",{children:"Save Changes"}),Object(r.jsx)("button",{children:"Discard Changes"})]})]})},ie=n(11),ce=n(15),oe=n.n(ce),ue=function(e){return Object(r.jsxs)("a",{className:oe.a.friend,href:"/".concat(e.id),children:[Object(r.jsx)("img",{className:oe.a.friend_avatar,src:e.friend_avatar,alt:"ico"}),Object(r.jsx)("div",{className:oe.a.friend_name,children:e.friend_name})]})},le=function(e){return Object(r.jsx)("div",{className:oe.a.menu_item,id:e.id,children:Object(r.jsxs)(W.b,{exact:!0,to:e.path,activeClassName:oe.a.active,children:[Object(r.jsx)("div",{className:oe.a.menu_item_icon,children:"".concat(e.icon)}),Object(r.jsx)("div",{className:oe.a.menu_item_item,children:e.item})]})})},_e=function(e){var t=Object(_.a)(e.friends),n=Object(_.a)(e.menu_items);return Object(r.jsxs)("div",{className:oe.a.sidebar_wrapper,children:[Object(r.jsx)("nav",{className:oe.a.menu,children:n.map((function(e){return Object(r.jsx)(le,{id:e.id,path:e.path,icon:e.icon,item:e.item},e.id)}))}),e.is_auth&&Object(r.jsx)(ie.b,{exact:!0,path:"/profile",render:function(){return Object(r.jsxs)("div",{className:oe.a.friends_bar,children:[Object(r.jsx)("div",{className:oe.a.friends_header,children:"Friends"}),Object(r.jsx)("div",{className:oe.a.friends_block,children:t.map((function(e){return Object(r.jsx)(ue,{id:e.id,friend_avatar:e.friend_avatar,friend_name:e.friend_name},e.id)}))})]})}})]})},de=Object(q.b)((function(e){return{friends:Object(B.i)(e),menu_items:Object(B.n)(e),is_auth:Object(B.j)(e)}}),{})(_e),pe=n(120),fe=n.n(pe),be=n(38),he=n.n(be),me=function(e){return Object(r.jsxs)("div",{className:he.a.item,id:"".concat(e.id),children:[Object(r.jsx)("img",{src:"https://i.guim.co.uk/img/media/d31ebd49b32a5aa609a584ababb1e03bc70b4942/573_213_2929_1758/master/2929.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=a54fc963e39dd6645fce012663ed13c1",alt:"avatar"}),Object(r.jsxs)("div",{className:he.a.post_content_wrapper,children:[Object(r.jsx)("div",{className:he.a.author,children:Object(r.jsx)("a",{href:e.author_url,children:e.author})}),Object(r.jsx)("div",{className:he.a.post_content,children:e.post_content})]}),Object(r.jsxs)("div",{className:he.a.action_buttons,children:[Object(r.jsxs)("div",{className:he.a.likes,children:[e.likes_count,"\u2764"," like"]}),Object(r.jsx)("div",{className:he.a.add_comment,children:"add comment"})]})]})},je=function(e){var t=Object(_.a)(e.news_posts);return Object(r.jsx)("div",{className:fe.a.posts,children:t.map((function(e){return Object(r.jsx)(me,{id:e.id,author:e.author,author_url:e.author_url,post_content:e.post_content,likes_count:e.likes_count})}))})},ge=Object(q.b)((function(e){return{news_posts:e.news.news_posts}}),(function(e){return{}}))(je),Oe=n(31),ve=n(121),we=n.n(ve),xe=n(39),ke=n.n(xe),Se=n(95),ye=function(e){var t=e.user_id,n=e.user_name,a=e.user_avatar,s=e.user_status_message,i=e.is_followed,c=e.is_following,o=e.followUser,u=e.unfollowUser,l=i?Object(r.jsx)("button",{className:ke.a.followed,disabled:c,onClick:function(){return function(e){u(e)}(t)},children:"Unfollow"}):Object(r.jsx)("button",{onClick:function(){return function(e){o(e)}(t)},disabled:c,children:"Follow"});return Object(r.jsxs)("div",{className:ke.a.item,id:"".concat(t),children:[" ",Object(r.jsxs)("div",{className:ke.a.avatar_follow,children:[Object(r.jsx)(W.b,{to:"/profile/".concat(t),children:Object(r.jsx)("img",{src:a||Se.a,alt:"avatar"})}),l]}),Object(r.jsx)("div",{className:ke.a.user_info_wrapper,children:Object(r.jsxs)("div",{className:ke.a.user_info,children:[Object(r.jsx)("div",{className:ke.a.user_name,children:Object(r.jsx)(W.b,{to:"/profile/".concat(t),children:n})}),Object(r.jsxs)("div",{className:ke.a.user_status_message,children:['"',s,'"']})]})})]})},Ue=n(29),Ne=n(53),Te=n.n(Ne),Pe=function(e){for(var t=e.total_items_count,n=e.page_size,a=e.active_page,s=e.set_active_page,i=e.portion_size,c=Math.ceil(t/n),o=[],u=1;u<=c;u++)o.push(u);var l=Math.ceil(c/i),_=Object(A.useState)(1),d=Object(Ue.a)(_,2),p=d[0],f=d[1],b=(p-1)*i+1,h=p*i;Object(A.useEffect)((function(){var e=Math.ceil(a/i);f(e)}),[a]);var m=o.filter((function(e){return e>=b&&e<=h})).map((function(e){return e===a?Object(r.jsx)("span",{className:"".concat(Te.a.page," ").concat(Te.a.active_page),children:e},e):Object(r.jsx)("span",{className:Te.a.page,onClick:function(){s(e)},children:e},e)}));return Object(r.jsxs)("div",{className:Te.a.pagination,children:[p>1&&Object(r.jsx)("button",{onClick:function(){f(p-1)},children:"Prev"}),m,p<l&&Object(r.jsx)("button",{onClick:function(){f(p+1)},children:"Next"})]})},Ee=function(e){var t=e.users,n=e.total_users_count,a=e.page_size,s=e.active_page,i=e.set_active_page,c=e.followUser,o=e.unfollowUser,u=e.is_following,l=e.portion_size;return Object(r.jsxs)("div",{className:we.a.users,children:[Object(r.jsx)(Pe,{page_size:a,active_page:s,set_active_page:i,total_items_count:n,portion_size:l}),t.map((function(e){var t,n=!1,a=Object(Oe.a)(u);try{for(a.s();!(t=a.n()).done;){if(t.value===e.id){n=!0;break}}}catch(s){a.e(s)}finally{a.f()}return Object(r.jsx)(ye,{user_id:e.id,user_name:e.name,user_avatar:e.photos.small,user_status_message:e.status,is_followed:e.followed,is_following:n,followUser:c,unfollowUser:o},e.id)}))]})},Ce=n(43),Ie=function(e){Object(F.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(G.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.getUsers(t,e.props.page_size)},e}return Object(z.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.active_page,this.props.page_size)}},{key:"render",value:function(){var e=this,t=Object(_.a)(this.props.users);return Object(r.jsxs)(r.Fragment,{children:[this.props.is_fetching&&Object(r.jsx)(Ce.a,{}),Object(r.jsx)(Ee,{users:t,page_size:this.props.page_size,total_users_count:this.props.total_users_count,active_page:this.props.active_page,followUser:function(t){e.props.followUser(t)},unfollowUser:function(t){e.props.unfollowUser(t)},set_active_page:this.onPageChange,portion_size:this.props.portion_size,is_following:this.props.is_following})]})}}]),n}(A.Component);var Re=Object(a.d)(Object(q.b)((function(e){var t=e.users,n=t.users,r=t.page_size,a=t.total_users_count,s=t.active_page,i=t.is_fetching,c=t.is_following,o=t.portion_size;return{users:Object(_.a)(n),page_size:r,total_users_count:a,active_page:s,is_fetching:i,is_following:Object(_.a)(c),portion_size:o}}),{followUser:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(n,e,v,j);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUser:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(n,e,w,g);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m(e,t);case 2:(a=n.sent)&&(a.error||(r(x(a.items)),r(k(e))));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Ie),Ae=n(26),Le=n(35),De=n(51),Me=n.n(De),Ge=function(e){var t=e.submitLogin,n=e.error,a=e.is_auth,s=e.current_route,i=e.captchaUrl;if(a)return Object(r.jsx)(ie.a,{to:s});var c=Le.a({email:Le.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:Le.b().min(8,"Must be longer than 8 characters").required("Required")}),o=Le.a({email:Le.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:Le.b().min(8,"Must be longer than 8 characters").required("Required"),captcha:Le.b().min(4,"Captcha must be longer than 3 characters").required("Required")}),u=n&&Object(r.jsx)("div",{className:Me.a.submit_error,children:n}),l=i&&Object(r.jsxs)("div",{className:Me.a.captcha,children:[Object(r.jsx)("img",{src:i,alt:"captcha"}),Object(r.jsx)(Ae.b,{type:"text",name:"captcha",placeholder:"Type symbols u c on image here"}),Object(r.jsx)(Ae.a,{name:"captcha"})]});return Object(r.jsx)(Ae.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:null},validationSchema:i?o:c,onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe,s=e.captcha;t(n,r,a,s)},children:Object(r.jsxs)(Ae.c,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Ae.b,{type:"text",name:"email",placeholder:"email"}),Object(r.jsx)(Ae.a,{name:"email"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Ae.b,{type:"password",name:"password",placeholder:"password"}),Object(r.jsx)(Ae.a,{name:"password"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"rememberMe",children:"Remember Me "}),Object(r.jsx)(Ae.b,{type:"checkbox",name:"rememberMe"})]}),u,l,Object(r.jsx)("button",{type:"submit",children:"Submit"})]})})},ze=Object(q.b)((function(e){return{is_auth:Object(B.j)(e),error:Object(B.o)(e),error_code:Object(B.p)(e),current_route:Object(B.b)(e),captcha_url:Object(B.a)(e)}}),{submitLogin:T.e,getCaptcha:T.c})((function(e){var t=e.submitLogin,n=e.error,a=e.error_code,s=e.is_auth,i=e.current_route,c=e.captcha_url,o=e.getCaptcha;a===h.b.CaptchaRequired&&o();var u=Object(A.useState)(c),l=Object(Ue.a)(u,2),_=l[0],d=l[1];return Object(A.useEffect)((function(){d(c)}),[c]),Object(r.jsx)("div",{className:Me.a.login_form,children:Object(r.jsx)(Ge,{submitLogin:t,captchaUrl:_,error:n,error_code:a,is_auth:s,current_route:i})})})),Fe=function(e){return function(t){return Object(r.jsx)(L.a.Suspense,{fallback:Object(r.jsx)(Ce.a,{}),children:Object(r.jsx)(e,Object(d.a)({},t))})}},He=L.a.lazy((function(){return n.e(4).then(n.bind(null,267))})),qe=L.a.lazy((function(){return Promise.all([n.e(5),n.e(3)]).then(n.bind(null,266))})),Be=function(e){Object(F.a)(n,e);var t=Object(H.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){this.props.init_app()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(K,{}),Object(r.jsx)(de,{}),Object(r.jsx)("div",{className:"main_wrapper",children:Object(r.jsxs)(ie.d,{children:[Object(r.jsx)(ie.b,{path:"/profile/:userId?",render:Fe(qe)}),Object(r.jsx)(ie.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(ie.a,{to:"/profile"})}}),Object(r.jsx)(ie.b,{path:"/dialogs",render:Fe(He)}),Object(r.jsx)(ie.b,{path:"/news",render:function(){return Object(r.jsx)(ge,{})}}),Object(r.jsx)(ie.b,{path:"/music",component:ne}),Object(r.jsx)(ie.b,{path:"/settings",component:se}),Object(r.jsx)(ie.b,{path:"/users",render:function(){return Object(r.jsx)(Re,{})}}),Object(r.jsx)(ie.b,{path:"/login",render:function(){return Object(r.jsx)(ze,{})}})]})})]}):Object(r.jsx)(Ce.a,{})}}]),n}(A.Component),We=Object(a.d)(ie.g,Object(q.b)((function(e){return{initialized:e.app.initialized}}),{init_app:P.c}))(Be);M.a.render(Object(r.jsx)(L.a.StrictMode,{children:Object(r.jsx)(q.a,{store:R,children:Object(r.jsx)(W.a,{children:Object(r.jsx)(We,{})})})}),document.getElementById("root")),window.store=R},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return g}));var r=n(3),a=n(2),s=n.n(a),i=n(4),c=n(5),o=function(){return Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data.url);case 4:case"end":return e.stop()}}),e)})))()},u=function(){return Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("auth/me");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},l=function(e,t,n,r){return Object(i.a)(s.a.mark((function a(){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r});case 3:return i=a.sent,console.log(i),a.abrupt("return",i);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},_=function(){return Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.delete("auth/login");case 3:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},d=function(e,t,n){return{type:"wos/auth/SET_AUTH_DATA",data:{id:e,email:t,login:n}}},p=function(e){return{type:"wos/auth/SET_IS_AUTH",is_auth:e}},f=function(e,t){return{type:"wos/auth/STOP_SUBMIT",submit_error:e,submit_error_code:t}},b=function(e){return{type:"wos/auth/SET_CAPTCHA_URL",captcha_url:e}},h=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:(n=e.sent)&&n.resultCode===c.c.Success&&(r=n.data,a=r.id,i=r.email,o=r.login,t(d(a,i,o)),t(p(!!o))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e,t,n,r){return function(){var a=Object(i.a)(s.a.mark((function a(i){var o,_,b,h,m,j;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l(e,t,n,r);case 2:if((null===(o=a.sent)||void 0===o?void 0:o.data.resultCode)!==c.c.Success){a.next=10;break}return a.next=6,u();case 6:(null===(_=a.sent)||void 0===_?void 0:_.resultCode)===c.c.Error?(i(d(null,"","")),i(p(!1))):(null===_||void 0===_?void 0:_.resultCode)===c.c.Success&&(b=_.data,h=b.id,m=b.email,j=b.login,i(d(h,m,j)),i(p(!0))),a.next=11;break;case 10:(null===o||void 0===o?void 0:o.data.messages)&&i(f(o.data.messages[0],o.data.resultCode));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},j=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,i,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if((null===(n=e.sent)||void 0===n?void 0:n.data.resultCode)!==c.c.Success){e.next=10;break}return e.next=6,u();case 6:(null===(r=e.sent)||void 0===r?void 0:r.resultCode)===c.c.Error?(t(d(null,"","")),t(p(!1))):(null===r||void 0===r?void 0:r.resultCode)===c.c.Success&&(a=r.data,i=a.id,o=a.email,l=a.login,t(d(i,o,l)),t(p(!0))),e.next=11;break;case 10:console.log(null===n||void 0===n?void 0:n.data.messages[0]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:(n=e.sent)?t(b(n)):console.log("AIN'T GET ANY CAPTCHA");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O={id:null,email:null,login:null,is_auth:!1,checking_auth:!1,submit_error:"",submit_error_code:null,captcha_url:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"wos/auth/SET_AUTH_DATA":return Object(r.a)(Object(r.a)({},e),t.data);case"wos/auth/SET_IS_AUTH":return Object(r.a)(Object(r.a)({},e),{},{is_auth:t.is_auth});case"wos/auth/STOP_SUBMIT":return Object(r.a)(Object(r.a)({},e),{},{submit_error:t.submit_error,submit_error_code:t.submit_error_code});case"wos/auth/SET_CAPTCHA_URL":return Object(r.a)(Object(r.a)({},e),{},{captcha_url:t.captcha_url,submit_error_code:null});default:return e}}},37:function(e,t,n){e.exports={settings_wrapper:"Settings_settings_wrapper__4goJj",settings_header:"Settings_settings_header__3mefI",person_info:"Settings_person_info__1wior",name:"Settings_name__NuVgy",login_info:"Settings_login_info__1-cb8",phone_number:"Settings_phone_number__2qE5-",action_buttons:"Settings_action_buttons__339V8"}},38:function(e,t,n){e.exports={item:"NewsPost_item__3G5Xn",post_content_wrapper:"NewsPost_post_content_wrapper__2jj08",author:"NewsPost_author__3BwoG",post_content:"NewsPost_post_content__2PyTX",action_buttons:"NewsPost_action_buttons__rp7Ay",likes:"NewsPost_likes__35b8P",add_comment:"NewsPost_add_comment__gC2BU"}},39:function(e,t,n){e.exports={item:"User_item__3Eeyk",avatar_follow:"User_avatar_follow__kt1Dt",followed:"User_followed__s79pA",user_info_wrapper:"User_user_info_wrapper__1vI1_",user_info:"User_user_info__3BjXL",user_name:"User_user_name__h6kjB",user_status_message:"User_user_status_message__3_dA0",user_location_wrapper:"User_user_location_wrapper__PthDx",post_content_wrapper:"User_post_content_wrapper__2Wsvm",author:"User_author__3L731",post_content:"User_post_content__3VCJj",action_buttons:"User_action_buttons__JxG0b",likes:"User_likes__1FX6z",add_comment:"User_add_comment__3Qv_f"}},43:function(e,t,n){"use strict";var r=n(1),a=(n(0),n.p+"static/media/preloader.96123056.svg");t.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:a,alt:"preloader",style:{width:"30px"}})})}},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));var r,a,s=n(117),i=n.n(s).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5b4d3778-fd4c-41ab-b731-1b26cfea860b"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaRequired=10]="CaptchaRequired"}(a||(a={}))},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n.n(r),s=n(4),i=n(5),c={getUserData:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("profile/".concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getStatus:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},setStatus:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},setProfilePhoto:function(e){return Object(s.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",e),t.next=4,i.a.put("profile/photo",n,{headers:{"Content-type":"multipart/form-data"}});case 4:return r=t.sent,t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})))()},setProfileInfo:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.put("profile",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}}},51:function(e,t,n){e.exports={login_form:"LoginPage_login_form__aMETl",submit_error:"LoginPage_submit_error__1P_pm"}},52:function(e,t,n){e.exports={track:"Track_track__1xXq5",cover:"Track_cover__1MvTg",track_name:"Track_track_name__GIUJR",track_duration:"Track_track_duration__3SX5C"}},53:function(e,t,n){e.exports={pagination:"Paginator_pagination__1_AFX",page:"Paginator_page__1mm3c",active_page:"Paginator_active_page__IHo59"}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n(3),a=n(2),s=n.n(a),i=n(4),c=n(30),o={initApp:function(e){return{type:"wos/app/INIT_APP",initialized:e}},setCurrentRoute:function(e){return{type:"wos/app/SET_CURRENT_ROUTE",current_route:e}}},u=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(c.b)());case 2:t(o.initApp(!0));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},l={initialized:!1,current_route:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"wos/app/INIT_APP":return Object(r.a)(Object(r.a)({},e),{},{initialized:t.initialized});case"wos/app/SET_CURRENT_ROUTE":return Object(r.a)(Object(r.a)({},e),{},{current_route:t.current_route});default:return e}}},79:function(e,t,n){e.exports={header:"Header_header__1IeR0",loginBlock:"Header_loginBlock__3BZjB"}},82:function(e,t,n){e.exports={music_wrapper:"Music_music_wrapper__3cvpV",music_header:"Music_music_header__aohfk"}},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return _})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p}));var r=n(9),a=n(3),s=n(2),i=n.n(s),c=n(4),o=n(5),u=n(50),l={addPostAC:function(e){return{type:"wos/profile/ADD_POST",new_post:e}},deletePostAC:function(e){return{type:"wos/profile/DELETE_POST",postId:e}},setUserProfile:function(e){return{type:"wos/profile/SET_USER_PROFILE",current_visited_user:e}},setStatus:function(e){return{type:"wos/profile/SET_STATUS",status:e}},toggleIsFetching:function(e){return{type:"wos/profile/TOGGLE_IS_FETCHING",is_fetching:e}},toggleIsPhotoUploaded:function(e){return{type:"wos/profile/TOGGLE_IS_PHOTO_UPLOADED",photoUploaded:e}}},_=function(e,t){return function(){var n=Object(c.a)(i.a.mark((function n(r){var a,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("getUserData - Dispatched",(new Date).getSeconds()),!t){n.next=3;break}return n.abrupt("return");case 3:return r(l.toggleIsFetching(!0)),n.next=6,u.a.getUserData(e);case 6:return a=n.sent,r(l.setUserProfile(a)),n.next=10,u.a.getStatus(e);case 10:(s=n.sent).data&&r(l.setStatus(s.data)),r(l.toggleIsFetching(!1));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,u.a.setStatus(e);case 5:t.sent.resultCode===o.c.Success&&n(l.setStatus(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("savePhoto - Dispatched",(new Date).getSeconds()),t.next=3,u.a.setProfilePhoto(e);case 3:t.sent.resultCode===o.c.Success&&(console.log("photoUploaded changed to true"),n(l.toggleIsPhotoUploaded(!0)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f={posts:[{id:1,author_name:"Dem Pigeon",author_id:14327,post_content:"Hey, My name is Dem Pigeon",likes_count:13},{id:2,author_name:"Dem Pigeon",author_id:14327,post_content:"This is my first post",likes_count:2}],current_visited_user:null,status:"",is_fetching:!1,photoUploaded:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"wos/profile/ADD_POST":return Object(a.a)(Object(a.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[{id:e.posts.length+1,author_name:"Dem Pigoen",author_id:14327,post_content:t.new_post,likes_count:0}])});case"wos/profile/DELETE_POST":return Object(a.a)(Object(a.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"wos/profile/SET_USER_PROFILE":return Object(a.a)(Object(a.a)({},e),{},{current_visited_user:t.current_visited_user});case"wos/profile/SET_STATUS":return Object(a.a)(Object(a.a)({},e),{},{status:t.status});case"wos/profile/TOGGLE_IS_FETCHING":return Object(a.a)(Object(a.a)({},e),{},{is_fetching:t.is_fetching});case"wos/profile/TOGGLE_IS_PHOTO_UPLOADED":return Object(a.a)(Object(a.a)({},e),{},{photoUploaded:t.photoUploaded});default:return e}}},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(9),a=n(3),s={sendMessage:function(e){return{type:"wos/users/TOGGLE_FOLLOWING",new_message:e}}},i={dialogs:[{id:"pavlo",dialog_name:"Pavlo",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/7/7e/70px-Pavle.jpg"},{id:"meyrin",dialog_name:"Meyrin",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/de/70px-Marin.jpg"},{id:"katya",dialog_name:"Katya",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/2/2c/70px-Katia.jpg"},{id:"bruno",dialog_name:"Bruno",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/d6/70px-Bruno.jpg"},{id:"marko",dialog_name:"Marko",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/c/cc/70px-Marko.jpg"},{id:"roman",dialog_name:"Roman",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/0/07/70px-Roman.jpg"}],messages:[{message_id:1,message:"We need to get food.",author_id:0,author_name:"Dem Pigeon"},{message_id:2,message:"This is so wrong to steal food from others like us!",author_id:"pavlo",author_name:"Pavlo"},{message_id:3,message:"I would eat anything!",author_id:0,author_name:"Dem Pigeon"},{message_id:4,message:"I haven't slept for a long time",author_id:"pavlo",author_name:"Pavlo"},{message_id:5,message:"Smoke is soothing me.",author_id:0,author_name:"Dem Pigeon"},{message_id:6,message:"I hope we will be able to warm up this shelter",author_id:"pavlo",author_name:"Pavlo"}],newMessageState:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"wos/users/TOGGLE_FOLLOWING":return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{message_id:e.messages.length+1,author_id:0,author_name:"Dem Pigoen",message:t.new_message}]),newMessageState:""});default:return e}}},95:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.9273afa0.png"}},[[254,1,2]]]);
//# sourceMappingURL=main.ad2f8587.chunk.js.map