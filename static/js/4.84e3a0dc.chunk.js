(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[4],{254:function(e,s,a){"use strict";var t=a(2),n=a(4),i=a(5),r=a(12),o=a(13),_=a(1),c=a(0),g=a.n(c),m=a(17),d=a(11),u=a(25),l=function(e){return{is_auth:Object(u.i)(e)}};s.a=function(e){var s=function(s){Object(r.a)(c,s);var a=Object(o.a)(c);function c(){return Object(n.a)(this,c),a.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){return this.props.is_auth?Object(_.jsx)(e,Object(t.a)({},this.props)):Object(_.jsx)(d.a,{to:"/login"})}}]),c}(g.a.Component);return Object(m.b)(l)(s)}},255:function(e,s,a){e.exports={dialogs_wrapper:"Dialogs_dialogs_wrapper__2zTOg",dialog_items_wrapper:"Dialogs_dialog_items_wrapper__1kMjr",dialog_items:"Dialogs_dialog_items__3Rvu-",messages:"Dialogs_messages__2iZpL",new_message_wrapper:"Dialogs_new_message_wrapper__2Aspz",new_message:"Dialogs_new_message__2IxTl",new_message_buttons:"Dialogs_new_message_buttons__3TgVg"}},256:function(e,s,a){e.exports={dialog:"Dialog_dialog__Hc26M",active:"Dialog_active__96BS5"}},257:function(e,s,a){e.exports={message:"Message_message__24nBZ",own:"Message_own__19eSK"}},258:function(e,s,a){e.exports={send_message_form:"MessageForm_send_message_form__2d4eW",send_message_input:"MessageForm_send_message_input__2TLZE",send_message_button:"MessageForm_send_message_button__NyaTO"}},264:function(e,s,a){"use strict";a.r(s);var t=a(9),n=a(8),i=a(1),r=(a(0),a(255)),o=a.n(r),_=a(24),c=a(256),g=a.n(c),m=function(e){var s=e.id,a=e.dialog_avatar,t=e.dialog_name,n="/dialogs/".concat(s);return Object(i.jsx)("div",{className:g.a.dialog,children:Object(i.jsxs)(_.b,{to:n,activeClassName:g.a.active,children:[Object(i.jsx)("img",{src:a,alt:"dialog_avatar"}),Object(i.jsx)("div",{children:t})]})})},d=a(257),u=a.n(d),l=function(e){var s=e.message_id,a=e.author_id,t=e.message;return Object(i.jsx)("div",{id:s,author:a,className:"".concat(u.a.message," ").concat(0===a&&u.a.own),children:t})},j=a(29),b=a(258),p=a.n(b),O=a(38),h=function(e){var s=e.sendMessage,a=O.a({new_message:O.b().max(200,"Your message is too long")});return Object(i.jsx)(j.d,{initialValues:{new_message:""},validationSchema:a,onSubmit:function(e,a){var t=a.resetForm;try{s(e.new_message),t({})}catch(n){console.error(n)}},children:Object(i.jsxs)(j.c,{className:p.a.send_message_form,children:[Object(i.jsxs)("div",{className:p.a.send_message_input,children:[Object(i.jsx)(j.b,{component:"textarea",name:"new_message"}),Object(i.jsx)(j.a,{name:"new_message"})]}),Object(i.jsx)("button",{type:"submit",className:p.a.send_message_button,children:"Send message"})]})})},f=function(e){var s=e.dialogs,a=s.dialogs,t=s.messages,r=e.sendMessage;(0,e.setCurrentRoute)("/dialogs");var _=Object(n.a)(a),c=Object(n.a)(t);return Object(i.jsxs)("div",{className:o.a.dialogs_wrapper,children:[Object(i.jsx)("div",{className:o.a.dialog_items_wrapper,children:Object(i.jsx)("div",{className:o.a.dialog_items,children:_.map((function(e){return Object(i.jsx)(m,{id:e.id,dialog_name:e.dialog_name,dialog_avatar:e.dialog_avatar},e.id)}))})}),Object(i.jsxs)("div",{className:o.a.messages,children:[c.map((function(e){return Object(i.jsx)(l,{message_id:e.message_id,message:e.message,author_name:e.author_name,author_id:e.author_id},e.message_id)})),Object(i.jsx)(h,{sendMessage:function(e){r(e)}})]})]})},v=a(17),x=a(254),w=a(27),M=a(25);s.default=Object(w.d)(Object(v.b)((function(e){return{dialogs:Object(M.h)(e)}}),(function(e){return{sendMessage:function(s){return e(Object(t.e)(s))},setCurrentRoute:function(s){return e(Object(t.g)(s))}}})),x.a)(f)}}]);
//# sourceMappingURL=4.84e3a0dc.chunk.js.map