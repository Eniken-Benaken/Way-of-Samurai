(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{119:function(e,t,n){e.exports={posts:"News_posts__3V4HP"}},120:function(e,t,n){e.exports={users:"Users_users__3-FMn",pagination:"Users_pagination__2OmqP",page:"Users_page__2Unf2",active_page:"Users_active_page__An9pd"}},14:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(2),a=n.n(r),s=n(6),i=n(116),c=n.n(i).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5b4d3778-fd4c-41ab-b731-1b26cfea860b"}}),o={getUsers:function(){var e=arguments;return Object(s.a)(a.a.mark((function t(){var n,r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,r=e.length>1&&void 0!==e[1]?e[1]:50,t.prev=2,t.next=5,c.get("users?page=".concat(n,"&count=").concat(r));case 5:return s=t.sent,console.log(s),t.abrupt("return",s.data);case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},followUser:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},unfollowUser:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},u={getUserData:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.get("profile/".concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getStatus:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},setStatus:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},setProfilePhoto:function(e){return Object(s.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",e),t.next=4,c.put("profile/photo",n,{headers:{"Content-type":"multipart/form-data"}});case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},setProfileInfo:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.put("profile",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()}},l={getAuthData:function(){return Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.get("auth/me");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},sendLoginData:function(e,t,n,r){return Object(s.a)(a.a.mark((function s(){var i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r});case 3:return i=a.sent,console.log(i),a.abrupt("return",i);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),s,null,[[0,8]])})))()},signOut:function(){return Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.delete("auth/login");case 3:return t=e.sent,console.log(t),e.abrupt("return",t);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},d={getCaptchaUrl:function(){return Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data.url);case 4:case"end":return e.stop()}}),e)})))()}}},15:function(e,t,n){e.exports={sidebar_wrapper:"Sidebar_sidebar_wrapper__3bqJp",menu:"Sidebar_menu__oKIKk",menu_item:"Sidebar_menu_item__2pcG6",active:"Sidebar_active__3_vA7",menu_item_icon:"Sidebar_menu_item_icon__1SAAl",friends_bar:"Sidebar_friends_bar__2DiYk",friends_header:"Sidebar_friends_header__125Qt",friends_block:"Sidebar_friends_block__385Hh",friend:"Sidebar_friend__3bzw9",friend_avatar:"Sidebar_friend_avatar__2xHms",friend_name:"Sidebar_friend_name__1i7aI"}},150:function(e,t,n){},17:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"o",(function(){return a})),n.d(t,"p",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return _})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"n",(function(){return j}));var r=function(e){return e.auth.is_auth},a=function(e){return e.auth.submit_error},s=function(e){return e.auth.submit_error_code},i=function(e){return e.app.current_route},c=function(e){return e.auth.login},o=function(e){return e.auth.email},u=function(e){return e.auth.id},l=function(e){return e.auth.captcha_url},d=function(e){return e.profile.current_visited_user},_=function(e){return e.profile.status},p=function(e){return e.profile.is_fetching},f=function(e){return e.profile.photoUploaded},b=function(e){return e.dialogs},h=function(e){return e.profile.posts},m=function(e){return e.sidebar.friends},j=function(e){return e.sidebar.menu_items}},253:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(25),s=n(85),i={news_posts:[{id:1,author:"Buddy Melon",author_url:"/buddymelon",post_content:"Today's Weather is perfect!",likes_count:26},{id:2,author:"John Smith",author_url:"/johnsmith",post_content:"Hello! I'm learning React js too!!",likes_count:202}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return e},o=n(83),u={friends:[{id:1,friend_avatar:"https://million-wallpapers.ru/wallpapers/5/51/424703866779568/nejtiri-2017-avatara-2.jpg",friend_name:"Tairin"},{id:2,friend_avatar:"https://pbs.twimg.com/media/EgFRKr2WAAA-RRY.jpg",friend_name:"Tsu Tei"},{id:3,friend_avatar:"https://www.film.ru/sites/default/files/images/Sigourney-Weaver2.jpg",friend_name:"Grace Austin"}],menu_items:[{id:1,icon:"\ud83d\udc64",item:"Profile",path:"/profile"},{id:2,icon:"\u2709",item:"Messages",path:"/dialogs"},{id:3,icon:"\ud83d\udc65",item:"Users",path:"/users"},{id:4,icon:"\ud83d\udce2",item:"News",path:"/news"},{id:5,icon:"\u266b",item:"Music",path:"/music"},{id:6,icon:"\u26ee",item:"Settings",path:"/settings"}]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return e},d=n(8),_=n(3),p=n(2),f=n.n(p),b=n(6),h=n(14);function m(e,t,n,r){return e.map((function(e){return e[n]===t?Object(_.a)(Object(_.a)({},e),r):e}))}var j="wos/users/FOLLOW_USER",g="wos/users/UNFOLLOW_USER",v="wos/users/SET_USERS",O="wos/users/SET_CURRENT_USERS_PAGE",x="wos/users/TOGGLE_FOLLOWING",w=function(e){return{type:j,user_id:e}},k=function(e){return{type:g,user_id:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:O,active_page:e}},N=function(e,t){return{type:x,user_id:e,is_fetching:t}},U=function(){var e=Object(b.a)(f.a.mark((function e(t,n,r,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(n,!0)),e.next=3,a(n);case 3:0===e.sent.data.resultCode?(t(N(n,!1)),t(r(n))):console.error("Error has occured when tried to follow/unfollow");case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),S={users:[],page_size:10,total_users_count:501,active_page:1,is_fetching:!1,is_following:[],portion_size:20},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(_.a)(Object(_.a)({},e),{},{users:m(e.users,t.user_id,"id",{followed:!0})});case g:return Object(_.a)(Object(_.a)({},e),{},{users:m(e.users,t.user_id,"id",{followed:!1})});case v:return Object(_.a)(Object(_.a)({},e),{},{users:Object(d.a)(t.users)});case O:return Object(_.a)(Object(_.a)({},e),{},{active_page:t.active_page});case x:return Object(_.a)(Object(_.a)({},e),{},{is_following:t.is_fetching?[].concat(Object(d.a)(e.is_following),[t.user_id]):e.is_following.filter((function(e){return e!==t.user_id}))});default:return e}},T=n(30),D=n(54),E=n(117),C=Object(a.c)({profile:o.b,dialogs:s.a,news:c,sidebar:l,users:P,auth:T.a,app:D.a}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,A=Object(a.e)(C,M(Object(a.a)(E.a))),I=n(0),R=n.n(I),z=n(62),L=n.n(z),G=n(4),F=n(5),q=n(11),B=n(12),H=(n(150),n(16)),W=n(17),X=n(23),Y=n(78),J=n.n(Y),V=function(e){var t=e.is_auth,n=e.login,a=e.signOut,s=t?[Object(r.jsxs)("span",{children:["Welcome, ",n]},"span"),Object(r.jsx)("button",{onClick:a,children:"Sign Out"},"signOut")]:Object(r.jsx)(X.b,{to:"/login",children:"Sign in"},"signin");return Object(r.jsxs)("header",{className:J.a.header,children:[Object(r.jsx)("img",{src:"https://dummyimage.com/160x46/ffffff/5cc6fe&text=React+Net",alt:"fuck-off"}),Object(r.jsx)("div",{className:J.a.loginBlock,children:s})]})},K=function(e){Object(q.a)(n,e);var t=Object(B.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"render",value:function(){return Object(r.jsx)(V,{is_auth:this.props.is_auth,login:this.props.login,signOut:this.props.signOut})}}]),n}(I.Component),Q=Object(H.b)((function(e){return{email:Object(W.c)(e),login:Object(W.e)(e),is_auth:Object(W.j)(e)}}),{signOut:T.d})(K),Z=n(51),$=n.n(Z),ee=function(e){return Object(r.jsxs)("div",{className:$.a.track,children:[Object(r.jsx)("div",{className:$.a.cover,children:"\u266a"}),Object(r.jsx)("div",{className:$.a.track_name,children:e.track_name}),Object(r.jsx)("div",{className:$.a.track_duration,children:e.track_duration})]})},te=n(81),ne=n.n(te),re=function(e){return Object(r.jsxs)("div",{className:ne.a.music_wrapper,children:[Object(r.jsx)("div",{className:ne.a.music_header,children:"My music"}),Object(r.jsx)(ee,{track_name:"\u0416\u0438\u0432\u0438 - \u0412\u0430\u0441\u044f \u041e\u0431\u043b\u043e\u043c\u043e\u0432",track_duration:"4:37"}),Object(r.jsx)(ee,{track_name:"Dance Of The Fireflies - Lifescapes",track_duration:"4:38"})]})},ae=n(37),se=n.n(ae),ie=function(e){return Object(r.jsxs)("div",{className:se.a.settings_wrapper,children:[Object(r.jsx)("div",{className:se.a.settings_header,children:"Personal info"}),Object(r.jsxs)("div",{className:se.a.person_info,children:[Object(r.jsxs)("div",{className:se.a.name,children:["Your name: ",Object(r.jsx)("input",{type:"text",value:"Dem"})," Your lastname: ",Object(r.jsx)("input",{type:"text",value:"Pigeon"})]}),Object(r.jsxs)("div",{className:se.a.login_info,children:["Your email: ",Object(r.jsx)("input",{type:"email",value:"Dem.Pigeon@gmail.com"})," Your password: ",Object(r.jsx)("input",{type:"password",value:"PigeonRules"})]}),Object(r.jsxs)("div",{className:se.a.phone_number,children:["Your phone number: ",Object(r.jsx)("input",{type:"text",value:"+1351245239"})]})]}),Object(r.jsxs)("div",{className:se.a.action_buttons,children:[Object(r.jsx)("button",{children:"Save Changes"}),Object(r.jsx)("button",{children:"Discard Changes"})]})]})},ce=n(10),oe=n(15),ue=n.n(oe),le=function(e){return Object(r.jsxs)("a",{className:ue.a.friend,href:"/".concat(e.id),children:[Object(r.jsx)("img",{className:ue.a.friend_avatar,src:e.friend_avatar,alt:"ico"}),Object(r.jsx)("div",{className:ue.a.friend_name,children:e.friend_name})]})},de=function(e){return Object(r.jsx)("div",{className:ue.a.menu_item,id:e.id,children:Object(r.jsxs)(X.b,{exact:!0,to:e.path,activeClassName:ue.a.active,children:[Object(r.jsx)("div",{className:ue.a.menu_item_icon,children:"".concat(e.icon)}),Object(r.jsx)("div",{className:ue.a.menu_item_item,children:e.item})]})})},_e=function(e){var t=Object(d.a)(e.friends),n=Object(d.a)(e.menu_items);return Object(r.jsxs)("div",{className:ue.a.sidebar_wrapper,children:[Object(r.jsx)("nav",{className:ue.a.menu,children:n.map((function(e){return Object(r.jsx)(de,{id:e.id,path:e.path,icon:e.icon,item:e.item},e.id)}))}),e.is_auth&&Object(r.jsx)(ce.b,{exact:!0,path:"/profile",render:function(){return Object(r.jsxs)("div",{className:ue.a.friends_bar,children:[Object(r.jsx)("div",{className:ue.a.friends_header,children:"Friends"}),Object(r.jsx)("div",{className:ue.a.friends_block,children:t.map((function(e){return Object(r.jsx)(le,{id:e.id,friend_avatar:e.friend_avatar,friend_name:e.friend_name},e.id)}))})]})}})]})},pe=Object(H.b)((function(e){return{friends:Object(W.i)(e),menu_items:Object(W.n)(e),is_auth:Object(W.j)(e)}}),{})(_e),fe=n(119),be=n.n(fe),he=n(38),me=n.n(he),je=function(e){return Object(r.jsxs)("div",{className:me.a.item,id:"".concat(e.id),children:[Object(r.jsx)("img",{src:"https://i.guim.co.uk/img/media/d31ebd49b32a5aa609a584ababb1e03bc70b4942/573_213_2929_1758/master/2929.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=a54fc963e39dd6645fce012663ed13c1",alt:"avatar"}),Object(r.jsxs)("div",{className:me.a.post_content_wrapper,children:[Object(r.jsx)("div",{className:me.a.author,children:Object(r.jsx)("a",{href:e.author_url,children:e.author})}),Object(r.jsx)("div",{className:me.a.post_content,children:e.post_content})]}),Object(r.jsxs)("div",{className:me.a.action_buttons,children:[Object(r.jsxs)("div",{className:me.a.likes,children:[e.likes_count,"\u2764"," like"]}),Object(r.jsx)("div",{className:me.a.add_comment,children:"add comment"})]})]})},ge=function(e){var t=Object(d.a)(e.news_posts);return Object(r.jsx)("div",{className:be.a.posts,children:t.map((function(e){return Object(r.jsx)(je,{id:e.id,author:e.author,author_url:e.author_url,post_content:e.post_content,likes_count:e.likes_count})}))})},ve=Object(H.b)((function(e){return{news_posts:e.news.news_posts}}),(function(e){return{}}))(ge),Oe=n(31),xe=n(120),we=n.n(xe),ke=n(39),ye=n.n(ke),Ne=n(94),Ue=function(e){var t=e.user_id,n=e.user_name,a=e.user_avatar,s=e.user_status_message,i=e.is_followed,c=e.is_following,o=e.followUser,u=e.unfollowUser,l=i?Object(r.jsx)("button",{className:ye.a.followed,disabled:c,onClick:function(){return function(e){u(e)}(t)},children:"Unfollow"}):Object(r.jsx)("button",{onClick:function(){return function(e){o(e)}(t)},disabled:c,children:"Follow"});return Object(r.jsxs)("div",{className:ye.a.item,id:"".concat(t),children:[" ",Object(r.jsxs)("div",{className:ye.a.avatar_follow,children:[Object(r.jsx)(X.b,{to:"/profile/".concat(t),children:Object(r.jsx)("img",{src:a||Ne.a,alt:"avatar"})}),l]}),Object(r.jsx)("div",{className:ye.a.user_info_wrapper,children:Object(r.jsxs)("div",{className:ye.a.user_info,children:[Object(r.jsx)("div",{className:ye.a.user_name,children:Object(r.jsx)(X.b,{to:"/profile/".concat(t),children:n})}),Object(r.jsxs)("div",{className:ye.a.user_status_message,children:['"',s,'"']})]})})]})},Se=n(29),Pe=n(52),Te=n.n(Pe),De=function(e){for(var t=e.total_items_count,n=e.page_size,a=e.active_page,s=e.set_active_page,i=e.portion_size,c=Math.ceil(t/n),o=[],u=1;u<=c;u++)o.push(u);var l=Math.ceil(c/i),d=Object(I.useState)(1),_=Object(Se.a)(d,2),p=_[0],f=_[1],b=(p-1)*i+1,h=p*i;Object(I.useEffect)((function(){var e=Math.ceil(a/i);f(e)}),[a]);var m=o.filter((function(e){return e>=b&&e<=h})).map((function(e){return e===a?Object(r.jsx)("span",{className:"".concat(Te.a.page," ").concat(Te.a.active_page),children:e},e):Object(r.jsx)("span",{className:Te.a.page,onClick:function(){s(e)},children:e},e)}));return Object(r.jsxs)("div",{className:Te.a.pagination,children:[p>1&&Object(r.jsx)("button",{onClick:function(){f(p-1)},children:"Prev"}),m,p<l&&Object(r.jsx)("button",{onClick:function(){f(p+1)},children:"Next"})]})},Ee=function(e){var t=e.users,n=e.total_users_count,a=e.page_size,s=e.active_page,i=e.set_active_page,c=e.followUser,o=e.unfollowUser,u=e.is_following,l=e.portion_size;return Object(r.jsxs)("div",{className:we.a.users,children:[Object(r.jsx)(De,{page_size:a,active_page:s,set_active_page:i,total_items_count:n,portion_size:l}),t.map((function(e){var t,n=!1,a=Object(Oe.a)(u);try{for(a.s();!(t=a.n()).done;){if(t.value===e.id){n=!0;break}}}catch(s){a.e(s)}finally{a.f()}return Object(r.jsx)(Ue,{user_id:e.id,user_name:e.name,user_avatar:e.photos.small,user_status_message:e.status,is_followed:e.followed,is_following:n,followUser:c,unfollowUser:o},e.id)}))]})},Ce=n(43),Me=function(e){Object(q.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(G.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.getUsers(t,e.props.page_size)},e}return Object(F.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.active_page,this.props.page_size)}},{key:"render",value:function(){var e=this,t=Object(d.a)(this.props.users);return Object(r.jsxs)(r.Fragment,{children:[this.props.is_fetching&&Object(r.jsx)(Ce.a,{}),Object(r.jsx)(Ee,{users:t,page_size:this.props.page_size,total_users_count:this.props.total_users_count,active_page:this.props.active_page,followUser:function(t){e.props.followUser(t)},unfollowUser:function(t){e.props.unfollowUser(t)},set_active_page:this.onPageChange,portion_size:this.props.portion_size,is_following:this.props.is_following})]})}}]),n}(I.Component);var Ae=Object(a.d)(Object(H.b)((function(e){var t=e.users,n=t.users,r=t.page_size,a=t.total_users_count,s=t.active_page,i=t.is_fetching,c=t.is_following,o=t.portion_size;return{users:Object(d.a)(n),page_size:r,total_users_count:a,active_page:s,is_fetching:i,is_following:Object(d.a)(c),portion_size:o}}),{followUser:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(n,e,w,h.d.followUser);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUser:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(n,e,k,h.d.unfollowUser);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.d.getUsers(e,t);case 2:(a=n.sent)&&(a.error||(r((s=a.items,{type:v,users:s})),r(y(e))));case 4:case"end":return n.stop()}var s}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Me),Ie=n(26),Re=n(35),ze=n(50),Le=n.n(ze),Ge=function(e){var t=e.submitLogin,n=e.error,a=e.is_auth,s=e.current_route,i=e.captchaUrl;if(a)return Object(r.jsx)(ce.a,{to:s});var c=Re.a({email:Re.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:Re.b().min(8,"Must be longer than 8 characters").required("Required")}),o=Re.a({email:Re.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:Re.b().min(8,"Must be longer than 8 characters").required("Required"),captcha:Re.b().min(4,"Captcha must be longer than 3 characters").required("Required")}),u=n&&Object(r.jsx)("div",{className:Le.a.submit_error,children:n}),l=i&&Object(r.jsxs)("div",{className:Le.a.captcha,children:[Object(r.jsx)("img",{src:i,alt:"captcha"}),Object(r.jsx)(Ie.b,{type:"text",name:"captcha",placeholder:"Type symbols u c on image here"}),Object(r.jsx)(Ie.a,{name:"captcha"})]});return Object(r.jsx)(Ie.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:null},validationSchema:i?o:c,onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe,s=e.captcha;t(n,r,a,s)},children:Object(r.jsxs)(Ie.c,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Ie.b,{type:"text",name:"email",placeholder:"email"}),Object(r.jsx)(Ie.a,{name:"email"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Ie.b,{type:"password",name:"password",placeholder:"password"}),Object(r.jsx)(Ie.a,{name:"password"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"rememberMe",children:"Remember Me "}),Object(r.jsx)(Ie.b,{type:"checkbox",name:"rememberMe"})]}),u,l,Object(r.jsx)("button",{type:"submit",children:"Submit"})]})})},Fe=Object(H.b)((function(e){return{is_auth:Object(W.j)(e),error:Object(W.o)(e),error_code:Object(W.p)(e),current_route:Object(W.b)(e),captcha_url:Object(W.a)(e)}}),{submitLogin:T.e,getCaptcha:T.c})((function(e){var t=e.submitLogin,n=e.error,a=e.error_code,s=e.is_auth,i=e.current_route,c=e.captcha_url,o=e.getCaptcha;10===a&&o();var u=Object(I.useState)(c),l=Object(Se.a)(u,2),d=l[0],_=l[1];return Object(I.useEffect)((function(){_(c)}),[c]),Object(r.jsx)("div",{className:Le.a.login_form,children:Object(r.jsx)(Ge,{submitLogin:t,captchaUrl:d,error:n,error_code:a,is_auth:s,current_route:i})})})),qe=function(e){return function(t){return Object(r.jsx)(R.a.Suspense,{fallback:Object(r.jsx)(Ce.a,{}),children:Object(r.jsx)(e,Object(_.a)({},t))})}},Be=R.a.lazy((function(){return n.e(4).then(n.bind(null,266))})),He=R.a.lazy((function(){return Promise.all([n.e(5),n.e(3)]).then(n.bind(null,265))})),We=function(e){Object(q.a)(n,e);var t=Object(B.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"componentDidMount",value:function(){this.props.init_app()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(Q,{}),Object(r.jsx)(pe,{}),Object(r.jsx)("div",{className:"main_wrapper",children:Object(r.jsxs)(ce.d,{children:[Object(r.jsx)(ce.b,{path:"/profile/:userId?",render:qe(He)}),Object(r.jsx)(ce.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(ce.a,{to:"/profile"})}}),Object(r.jsx)(ce.b,{path:"/dialogs",render:qe(Be)}),Object(r.jsx)(ce.b,{path:"/news",render:function(){return Object(r.jsx)(ve,{})}}),Object(r.jsx)(ce.b,{path:"/music",component:re}),Object(r.jsx)(ce.b,{path:"/settings",component:ie}),Object(r.jsx)(ce.b,{path:"/users",render:function(){return Object(r.jsx)(Ae,{})}}),Object(r.jsx)(ce.b,{path:"/login",render:function(){return Object(r.jsx)(Fe,{})}})]})})]}):Object(r.jsx)(Ce.a,{})}}]),n}(I.Component),Xe=Object(a.d)(ce.g,Object(H.b)((function(e){return{initialized:e.app.initialized}}),{init_app:D.b}))(We);L.a.render(Object(r.jsx)(R.a.StrictMode,{children:Object(r.jsx)(H.a,{store:A,children:Object(r.jsx)(X.a,{children:Object(r.jsx)(Xe,{})})})}),document.getElementById("root")),window.store=A},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return j}));var r=n(3),a=n(2),s=n.n(a),i=n(6),c=n(14),o="wos/auth/SET_AUTH_DATA",u="wos/auth/SET_IS_AUTH",l="wos/auth/STOP_SUBMIT",d="wos/auth/SET_CAPTCHA_URL",_=function(e,t,n){return{type:o,data:{id:e,email:t,login:n}}},p=function(e){return{type:u,is_auth:e}},f=function(e){return{type:d,captcha_url:e}},b=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.getAuthData();case 3:(null===(n=e.sent)||void 0===n?void 0:n.data)&&(r=n.data.data,a=r.id,i=r.email,o=r.login,t(_(a,i,o)),t(p(!!o))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t,n,r){return function(){var a=Object(i.a)(s.a.mark((function a(i){var o,u,d,f,b,h;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.sendLoginData(e,t,n,r);case 2:if(0!==(null===(o=a.sent)||void 0===o?void 0:o.data.resultCode)){a.next=10;break}return a.next=6,c.a.getAuthData();case 6:1===(null===(u=a.sent)||void 0===u?void 0:u.data.resultCode)?(i(_(null,"","")),i(p(!1))):0===(null===u||void 0===u?void 0:u.data.resultCode)&&(d=null===u||void 0===u?void 0:u.data.data,f=d.id,b=d.email,h=d.login,i(_(f,b,h)),i(p(!0))),a.next=11;break;case 10:(null===o||void 0===o?void 0:o.data.messages)&&i((s=o.data.messages[0],m=o.data.resultCode,{type:l,submit_error:s,submit_error_code:m}));case 11:case"end":return a.stop()}var s,m}),a)})));return function(e){return a.apply(this,arguments)}}()},m=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.signOut();case 2:if(0!==(null===(n=e.sent)||void 0===n?void 0:n.data.resultCode)){e.next=10;break}return e.next=6,c.a.getAuthData();case 6:1===(null===(r=e.sent)||void 0===r?void 0:r.data.resultCode)?(t(_(null,"","")),t(p(!1))):0===(null===r||void 0===r?void 0:r.data.resultCode)&&(a=null===r||void 0===r?void 0:r.data.data,i=a.id,o=a.email,u=a.login,t(_(i,o,u)),t(p(!0))),e.next=11;break;case 10:console.log(null===n||void 0===n?void 0:n.data.messages[0]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.getCaptchaUrl();case 2:(n=e.sent)?t(f(n)):console.log("AIN'T GET ANY CAPTCHA");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g={id:null,email:null,login:null,is_auth:!1,checking_auth:!1,submit_error:"",submit_error_code:null,captcha_url:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(r.a)(Object(r.a)({},e),t.data);case u:return Object(r.a)(Object(r.a)({},e),{},{is_auth:t.is_auth});case l:return Object(r.a)(Object(r.a)({},e),{},{submit_error:t.submit_error,submit_error_code:t.submit_error_code});case d:return Object(r.a)(Object(r.a)({},e),{},{captcha_url:t.captcha_url,submit_error_code:null});default:return e}}},37:function(e,t,n){e.exports={settings_wrapper:"Settings_settings_wrapper__4goJj",settings_header:"Settings_settings_header__3mefI",person_info:"Settings_person_info__1wior",name:"Settings_name__NuVgy",login_info:"Settings_login_info__1-cb8",phone_number:"Settings_phone_number__2qE5-",action_buttons:"Settings_action_buttons__339V8"}},38:function(e,t,n){e.exports={item:"NewsPost_item__3G5Xn",post_content_wrapper:"NewsPost_post_content_wrapper__2jj08",author:"NewsPost_author__3BwoG",post_content:"NewsPost_post_content__2PyTX",action_buttons:"NewsPost_action_buttons__rp7Ay",likes:"NewsPost_likes__35b8P",add_comment:"NewsPost_add_comment__gC2BU"}},39:function(e,t,n){e.exports={item:"User_item__3Eeyk",avatar_follow:"User_avatar_follow__kt1Dt",followed:"User_followed__s79pA",user_info_wrapper:"User_user_info_wrapper__1vI1_",user_info:"User_user_info__3BjXL",user_name:"User_user_name__h6kjB",user_status_message:"User_user_status_message__3_dA0",user_location_wrapper:"User_user_location_wrapper__PthDx",post_content_wrapper:"User_post_content_wrapper__2Wsvm",author:"User_author__3L731",post_content:"User_post_content__3VCJj",action_buttons:"User_action_buttons__JxG0b",likes:"User_likes__1FX6z",add_comment:"User_add_comment__3Qv_f"}},43:function(e,t,n){"use strict";var r=n(1),a=(n(0),n.p+"static/media/preloader.96123056.svg");t.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:a,alt:"preloader",style:{width:"30px"}})})}},50:function(e,t,n){e.exports={login_form:"LoginPage_login_form__aMETl",submit_error:"LoginPage_submit_error__1P_pm"}},51:function(e,t,n){e.exports={track:"Track_track__1xXq5",cover:"Track_cover__1MvTg",track_name:"Track_track_name__GIUJR",track_duration:"Track_track_duration__3SX5C"}},52:function(e,t,n){e.exports={pagination:"Paginator_pagination__1_AFX",page:"Paginator_page__1mm3c",active_page:"Paginator_active_page__IHo59"}},54:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(3),a=n(2),s=n.n(a),i=n(6),c=n(30),o="wos/app/INIT_APP",u="wos/app/SET_CURRENT_ROUTE",l=function(e){return{type:u,current_route:e}},d=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(c.b)());case 2:t({type:o,initialized:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_={initialized:!1,current_route:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(r.a)(Object(r.a)({},e),{},{initialized:t.initialized});case u:return Object(r.a)(Object(r.a)({},e),{},{current_route:t.current_route});default:return e}}},78:function(e,t,n){e.exports={header:"Header_header__1IeR0",loginBlock:"Header_loginBlock__3BZjB"}},81:function(e,t,n){e.exports={music_wrapper:"Music_music_wrapper__3cvpV",music_header:"Music_music_header__aohfk"}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return O}));var r=n(8),a=n(3),s=n(2),i=n.n(s),c=n(6),o=n(14),u="wos/profile/ADD_POST",l="wos/profile/DELETE_POST",d="wos/profile/SET_STATUS",_="wos/profile/TOGGLE_IS_FETCHING",p="wos/profile/TOGGLE_IS_PHOTO_UPLOADED",f="wos/profile/SET_USER_PROFILE",b=function(e){return{type:u,new_post:e}},h=function(e){return{type:d,status:e}},m=function(e){return console.log("toggleIsFetching - Dispatched",(new Date).getSeconds()),{type:_,is_fetching:e}},j=function(e){return console.log("toggleIsPhotoUploaded - Dispatched",(new Date).getSeconds()),{type:p,photoUploaded:e}},g=function(e,t){return function(){var n=Object(c.a)(i.a.mark((function n(r){var a,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("getUserData - Dispatched",(new Date).getSeconds()),!t){n.next=3;break}return n.abrupt("return");case 3:return r(m(!0)),n.next=6,o.b.getUserData(e);case 6:return a=n.sent,r({type:f,current_visited_user:a}),n.next=10,o.b.getStatus(e);case 10:(s=n.sent).data&&r(h(s.data)),r(m(!1));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,o.b.setStatus(e);case 5:0===t.sent.data.resultCode&&n(h(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e,t){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("savePhoto - Dispatched",(new Date).getSeconds()),t.next=3,o.b.setProfilePhoto(e);case 3:0===t.sent.data.resultCode&&(console.log("photoUploaded changed to true"),n(j(!0)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x={posts:[{id:1,author_name:"Dem Pigeon",author_id:14327,post_content:"Hey, My name is Dem Pigeon",likes_count:13},{id:2,author_name:"Dem Pigeon",author_id:14327,post_content:"This is my first post",likes_count:2}],current_visited_user:null,status:"",is_fetching:!1,photoUploaded:!1};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(a.a)(Object(a.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[{id:e.posts.length+1,author_name:"Dem Pigoen",author_id:14327,post_content:t.new_post,likes_count:0}])});case l:return Object(a.a)(Object(a.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case f:return Object(a.a)(Object(a.a)({},e),{},{current_visited_user:t.current_visited_user});case d:return Object(a.a)(Object(a.a)({},e),{},{status:t.status});case _:return Object(a.a)(Object(a.a)({},e),{},{is_fetching:t.is_fetching});case p:return Object(a.a)(Object(a.a)({},e),{},{photoUploaded:t.photoUploaded});default:return e}}},85:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(8),a=n(3),s="wos/dialogs/SEND_MESSAGE",i=function(e){return{type:s,new_message:e}},c={dialogs:[{id:"pavlo",dialog_name:"Pavlo",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/7/7e/70px-Pavle.jpg"},{id:"meyrin",dialog_name:"Meyrin",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/de/70px-Marin.jpg"},{id:"katya",dialog_name:"Katya",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/2/2c/70px-Katia.jpg"},{id:"bruno",dialog_name:"Bruno",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/d6/70px-Bruno.jpg"},{id:"marko",dialog_name:"Marko",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/c/cc/70px-Marko.jpg"},{id:"roman",dialog_name:"Roman",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/0/07/70px-Roman.jpg"}],messages:[{message_id:1,message:"We need to get food.",author_id:0,author_name:"Dem Pigeon"},{message_id:2,message:"This is so wrong to steal food from others like us!",author_id:"pavlo",author_name:"Pavlo"},{message_id:3,message:"I would eat anything!",author_id:0,author_name:"Dem Pigeon"},{message_id:4,message:"I haven't slept for a long time",author_id:"pavlo",author_name:"Pavlo"},{message_id:5,message:"Smoke is soothing me.",author_id:0,author_name:"Dem Pigeon"},{message_id:6,message:"I hope we will be able to warm up this shelter",author_id:"pavlo",author_name:"Pavlo"}],newMessageState:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{message_id:e.messages.length+1,author_id:0,author_name:"Dem Pigoen",message:t.new_message}]),newMessageState:""});default:return e}}},94:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.9273afa0.png"}},[[253,1,2]]]);
//# sourceMappingURL=main.a1170695.chunk.js.map