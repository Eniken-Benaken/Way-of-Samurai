(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[4],{255:function(e,s,a){"use strict";var t=a(3),n=a(4),i=a(5),o=a(11),_=a(12),r=a(1),c=a(0),g=a.n(c),d=a(16),m=a(10),l=a(17),u=function(e){return{is_auth:Object(l.j)(e)}};s.a=function(e){var s=function(s){Object(o.a)(c,s);var a=Object(_.a)(c);function c(){return Object(n.a)(this,c),a.apply(this,arguments)}return Object(i.a)(c,[{key:"render",value:function(){return this.props.is_auth?Object(r.jsx)(e,Object(t.a)({},this.props)):Object(r.jsx)(m.a,{to:"/login"})}}]),c}(g.a.Component);return Object(d.b)(u)(s)}},256:function(e,s,a){e.exports={dialogs_wrapper:"Dialogs_dialogs_wrapper__2zTOg",dialog_items_wrapper:"Dialogs_dialog_items_wrapper__1kMjr",dialog_items:"Dialogs_dialog_items__3Rvu-",messages:"Dialogs_messages__2iZpL",new_message_wrapper:"Dialogs_new_message_wrapper__2Aspz",new_message:"Dialogs_new_message__2IxTl",new_message_buttons:"Dialogs_new_message_buttons__3TgVg"}},257:function(e,s,a){e.exports={dialog:"Dialog_dialog__Hc26M",active:"Dialog_active__96BS5"}},258:function(e,s,a){e.exports={message:"Message_message__24nBZ",own:"Message_own__19eSK"}},259:function(e,s,a){e.exports={send_message_form:"MessageForm_send_message_form__2d4eW",send_message_input:"MessageForm_send_message_input__2TLZE",send_message_button:"MessageForm_send_message_button__NyaTO"}},266:function(e,s,a){"use strict";a.r(s);var t=a(85),n=a(54),i=a(8),o=a(1),_=(a(0),a(256)),r=a.n(_),c=a(23),g=a(257),d=a.n(g),m=function(e){var s=e.id,a=e.dialog_avatar,t=e.dialog_name,n="/dialogs/".concat(s);return Object(o.jsx)("div",{className:d.a.dialog,children:Object(o.jsxs)(c.b,{to:n,activeClassName:d.a.active,children:[Object(o.jsx)("img",{src:a,alt:"dialog_avatar"}),Object(o.jsx)("div",{children:t})]})})},l=a(258),u=a.n(l),j=function(e){var s=e.message_id,a=e.author_id,t=e.message;return Object(o.jsx)("div",{id:"".concat(s),className:"".concat(u.a.message," ").concat(0===a&&u.a.own),children:t})},b=a(26),p=a(259),O=a.n(p),v=a(35),h=function(e){var s=e.sendMessage,a=v.a({new_message:v.b().max(200,"Your message is too long")});return Object(o.jsx)(b.d,{initialValues:{new_message:""},validationSchema:a,onSubmit:function(e,a){var t=a.resetForm;try{s(e.new_message),t({})}catch(n){console.error(n)}},children:Object(o.jsxs)(b.c,{className:O.a.send_message_form,children:[Object(o.jsxs)("div",{className:O.a.send_message_input,children:[Object(o.jsx)(b.b,{component:"textarea",name:"new_message"}),Object(o.jsx)(b.a,{name:"new_message"})]}),Object(o.jsx)("button",{type:"submit",className:O.a.send_message_button,children:"Send message"})]})})},x=function(e){var s=e.dialogs,a=s.dialogs,t=s.messages,n=e.sendMessage;(0,e.setCurrentRoute)("/dialogs");var _=Object(i.a)(a),c=Object(i.a)(t);return Object(o.jsxs)("div",{className:r.a.dialogs_wrapper,children:[Object(o.jsx)("div",{className:r.a.dialog_items_wrapper,children:Object(o.jsx)("div",{className:r.a.dialog_items,children:_.map((function(e){return Object(o.jsx)(m,{id:e.id,dialog_name:e.dialog_name,dialog_avatar:e.dialog_avatar},e.id)}))})}),Object(o.jsxs)("div",{className:r.a.messages,children:[c.map((function(e){return Object(o.jsx)(j,{message_id:e.message_id,message:e.message,author_id:e.author_id},e.message_id)})),Object(o.jsx)(h,{sendMessage:function(e){n(e)}})]})]})},f=a(16),w=a(255),M=a(25),N=a(17);s.default=Object(M.d)(Object(f.b)((function(e){return{dialogs:Object(N.h)(e)}}),{sendMessage:t.b,setCurrentRoute:n.c}),w.a)(x)}}]);
//# sourceMappingURL=4.1f05084b.chunk.js.map