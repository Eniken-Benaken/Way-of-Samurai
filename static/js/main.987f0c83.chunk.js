(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{118:function(e,t,n){e.exports={posts:"News_posts__3V4HP"}},119:function(e,t,n){e.exports={users:"Users_users__3-FMn",pagination:"Users_pagination__2OmqP",page:"Users_page__2Unf2",activePage:"Users_activePage__3GCXq"}},130:function(e,t,n){},16:function(e,t,n){e.exports={sidebar_wrapper:"Sidebar_sidebar_wrapper__3bqJp",menu:"Sidebar_menu__oKIKk",menu_item:"Sidebar_menu_item__2pcG6",active:"Sidebar_active__3_vA7",menu_item_icon:"Sidebar_menu_item_icon__1SAAl",friends_bar:"Sidebar_friends_bar__2DiYk",friends_header:"Sidebar_friends_header__125Qt",friends_block:"Sidebar_friends_block__385Hh",friend:"Sidebar_friend__3bzw9",friend_avatar:"Sidebar_friend_avatar__2xHms",friend_name:"Sidebar_friend_name__1i7aI"}},19:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return d}));var r=n(7),a=n.n(r),i=n(15),s=n(117),c=n.n(s).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5b4d3778-fd4c-41ab-b731-1b26cfea860b"}}),o={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return c.post("follow/".concat(e))},unfollowUser:function(e){return c.delete("follow/".concat(e))}},u={getUserData:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data})).catch((function(e){console.error(e)}))},getStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14327;return c.get("profile/status/".concat(e))},setStatus:function(e){return c.put("profile/status",{status:e})},setProfilePhoto:function(e){var t=new FormData;return t.append("image",e),c.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}})},setProfileInfo:function(e){return c.put("profile",e)}},_={getAuthData:function(){return c.get("auth/me").then((function(e){return console.log("authAPI.getAuthData() - response.data",e.data),e.data}))},sendLoginData:function(e,t,n,r){return c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return console.log("authAPI.sendLoginData() - response",e),e}))},signOut:function(){return c.delete("auth/login").then((function(e){return console.log("authAPI.signOut() - response",e),e}))}},d={getCaptchaUrl:function(){return Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data.url);case 4:case"end":return e.stop()}}),e)})))()}}},25:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return f}));var r=function(e){return e.auth.is_auth},a=function(e){return e.auth.submit_error},i=function(e){return e.auth.submit_error_code},s=function(e){return e.app.current_route},c=function(e){return e.auth.login},o=function(e){return e.auth.email},u=function(e){return e.auth.id},_=function(e){return e.auth.captcha_url},d=function(e){return e.profile.current_visited_user},l=function(e){return e.profile.status},p=function(e){return e.profile.is_fetching},f=function(e){return e.dialogs}},252:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(27),i=n(9),s=n(2),c=n(3),o={dialogs:[{id:"pavlo",dialog_name:"Pavlo",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/7/7e/70px-Pavle.jpg"},{id:"meyrin",dialog_name:"Meyrin",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/de/70px-Marin.jpg"},{id:"katya",dialog_name:"Katya",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/2/2c/70px-Katia.jpg"},{id:"bruno",dialog_name:"Bruno",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/d6/70px-Bruno.jpg"},{id:"marko",dialog_name:"Marko",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/c/cc/70px-Marko.jpg"},{id:"roman",dialog_name:"Roman",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/0/07/70px-Roman.jpg"}],messages:[{message_id:1,message:"We need to get food.",author_id:0,author_name:"Dem Pigeon"},{message_id:2,message:"This is so wrong to steal food from others like us!",author_id:"pavlo",author_name:"Pavlo"},{message_id:3,message:"I would eat anything!",author_id:0,author_name:"Dem Pigeon"},{message_id:4,message:"I haven't slept for a long time",author_id:"pavlo",author_name:"Pavlo"},{message_id:5,message:"Smoke is soothing me.",author_id:0,author_name:"Dem Pigeon"},{message_id:6,message:"I hope we will be able to warm up this shelter",author_id:"pavlo",author_name:"Pavlo"}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.SEND_MESSAGE:return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),[{message_id:e.messages.length+1,author_id:0,author_name:"Dem Pigoen",message:t.new_message}]),newMessageState:""});default:return e}},_={news_posts:[{id:1,author:"Buddy Melon",author_url:"/buddymelon",post_content:"Today's Weather is perfect!",likes_count:26},{id:2,author:"John Smith",author_url:"/johnsmith",post_content:"Hello! I'm learning React js too!!",likes_count:202}]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return e},l={posts:[{id:1,author:"Dem Pigeon",post_content:"Hey, My name is Dem Pigeon",likes_count:13},{id:2,author:"Dem Pigeon",post_content:"This is my first post",likes_count:2}],current_visited_user:"",status:"",isFetching:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.ADD_POST:return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[{id:e.posts.length+1,author:"Dem Pigoen",post_content:t.new_post,likes_count:0}])});case c.a.DELETE_POST:return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case c.a.SET_USER_PROFILE:return Object(s.a)(Object(s.a)({},e),{},{current_visited_user:t.current_visited_user});case c.a.SET_STATUS:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case c.a.TOGGLE_IS_FETCHING:return Object(s.a)(Object(s.a)({},e),{},{is_fetching:t.is_fetching});case c.a.SET_USER_INFO:console.log("profile_reducer dispatch SET_USER_INFO call with action data: ",t.current_visited_user_changes);default:return e}},f={friends:[{id:1,friend_avatar:"https://million-wallpapers.ru/wallpapers/5/51/424703866779568/nejtiri-2017-avatara-2.jpg",friend_name:"Tairin"},{id:2,friend_avatar:"https://pbs.twimg.com/media/EgFRKr2WAAA-RRY.jpg",friend_name:"Tsu Tei"},{id:3,friend_avatar:"https://www.film.ru/sites/default/files/images/Sigourney-Weaver2.jpg",friend_name:"Grace Austin"}],menu_items:[{id:1,icon:"\ud83d\udc64",item:"Profile",path:"/profile"},{id:2,icon:"\u2709",item:"Messages",path:"/dialogs"},{id:3,icon:"\ud83d\udc65",item:"Users",path:"/users"},{id:4,icon:"\ud83d\udce2",item:"News",path:"/news"},{id:5,icon:"\u266b",item:"Music",path:"/music"},{id:6,icon:"\u26ee",item:"Settings",path:"/settings"}]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return e},j=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(s.a)(Object(s.a)({},e),r):e}))},h={users:[],pageSize:10,totalUsersCount:501,activePage:1,is_fetching:!1,is_following:[],portionSize:20},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.FOLLOW_USER:return Object(s.a)(Object(s.a)({},e),{},{users:j(e.users,t.user_id,"id",{followed:!0})});case c.a.UNFOLLOW_USER:return Object(s.a)(Object(s.a)({},e),{},{users:j(e.users,t.user_id,"id",{followed:!1})});case c.a.SET_USERS:return Object(s.a)(Object(s.a)({},e),{},{users:Object(i.a)(t.users)});case c.a.SET_CURRENT_USERS_PAGE:return Object(s.a)(Object(s.a)({},e),{},{activePage:t.activePage});case c.a.TOGGLE_IS_FETCHING:return Object(s.a)(Object(s.a)({},e),{},{is_fetching:t.is_fetching});case c.a.TOGGLE_FOLLOWING:return Object(s.a)(Object(s.a)({},e),{},{is_following:t.is_fetching?[].concat(Object(i.a)(e.is_following),[t.user_id]):e.is_following.filter((function(e){return e!==t.user_id}))});default:return e}},O={id:null,email:null,login:null,is_auth:!1,checking_auth:!1,submit_error:"",submit_error_code:"",captcha_url:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.SET_AUTH_DATA:return Object(s.a)(Object(s.a)({},e),t.data);case c.a.SET_IS_AUTH:return Object(s.a)(Object(s.a)({},e),{},{is_auth:t.is_auth});case c.a.TOGGLE_CHECKING_AUTH:return Object(s.a)(Object(s.a)({},e),{},{checking_auth:t.checking_auth});case c.a.STOP_SUBMIT:return Object(s.a)(Object(s.a)({},e),{},{submit_error:t.submit_error,submit_error_code:t.submit_error_code});case c.a.SET_CAPTCHA_URL:return Object(s.a)(Object(s.a)({},e),{},{captcha_url:t.captcha_url,submit_error_code:""});default:return e}},v={initialized:!1,current_route:""},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.INIT_APP:return console.log("app_reducer.INIT_APP - prev.state+action.initialized",e,t.initialized),Object(s.a)(Object(s.a)({},e),{},{initialized:t.initialized});case c.a.SET_CURRENT_ROUTE:return console.log("app_reducer.SET_CURRENT_ROUTE - prev.state+action.current_route",e,t.current_route),Object(s.a)(Object(s.a)({},e),{},{current_route:t.current_route});default:return e}},S=n(115),w=Object(a.c)({profile:p,dialogs:u,news:d,sidebar:b,users:m,auth:g,app:x}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,T=Object(a.e)(w,E(Object(a.a)(S.a))),U=n(0),N=n.n(U),k=n(63),P=n.n(k),y=n(4),A=n(5),C=n(12),R=n(13),I=(n(130),n(17)),L=n(25),G=n(28),D=n(24),M=n(79),F=n.n(M),z=function(e){var t=e.is_auth,n=e.login,a=e.signOut,i=t?[Object(r.jsxs)("span",{children:["Welcome, ",n]},"span"),Object(r.jsx)("button",{onClick:a,children:"Sign Out"},"signOut")]:Object(r.jsx)(D.b,{to:"/login",children:"Sign in"},"signin");return Object(r.jsxs)("header",{className:F.a.header,children:[Object(r.jsx)("img",{src:"https://dummyimage.com/160x46/ffffff/5cc6fe&text=React+Net",alt:"fuck-off"}),Object(r.jsx)("div",{className:F.a.loginBlock,children:i})]})},H=function(e){Object(C.a)(n,e);var t=Object(R.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){return Object(r.jsx)(z,{is_auth:this.props.is_auth,login:this.props.login,signOut:this.props.signOut})}}]),n}(U.Component),B=Object(I.b)((function(e){return{email:Object(L.c)(e),login:Object(L.e)(e),is_auth:Object(L.i)(e)}}),{signOut:G.h})(H),q=n(53),W=n.n(q),X=function(e){return Object(r.jsxs)("div",{className:W.a.track,children:[Object(r.jsx)("div",{className:W.a.cover,children:"\u266a"}),Object(r.jsx)("div",{className:W.a.track_name,children:e.track_name}),Object(r.jsx)("div",{className:W.a.track_duration,children:e.track_duration})]})},K=n(82),Y=n.n(K),J=function(e){return Object(r.jsxs)("div",{className:Y.a.music_wrapper,children:[Object(r.jsx)("div",{className:Y.a.music_header,children:"My music"}),Object(r.jsx)(X,{track_name:"\u0416\u0438\u0432\u0438 - \u0412\u0430\u0441\u044f \u041e\u0431\u043b\u043e\u043c\u043e\u0432",track_duration:"4:37"}),Object(r.jsx)(X,{track_name:"Dance Of The Fireflies - Lifescapes",track_duration:"4:38"})]})},V=n(40),Q=n.n(V),Z=function(e){return Object(r.jsxs)("div",{className:Q.a.settings_wrapper,children:[Object(r.jsx)("div",{className:Q.a.settings_header,children:"Personal info"}),Object(r.jsxs)("div",{className:Q.a.person_info,children:[Object(r.jsxs)("div",{className:Q.a.name,children:["Your name: ",Object(r.jsx)("input",{type:"text",value:"Dem"})," Your lastname: ",Object(r.jsx)("input",{type:"text",value:"Pigeon"})]}),Object(r.jsxs)("div",{className:Q.a.login_info,children:["Your email: ",Object(r.jsx)("input",{type:"email",value:"Dem.Pigeon@gmail.com"})," Your password: ",Object(r.jsx)("input",{type:"password",value:"PigeonRules"})]}),Object(r.jsxs)("div",{className:Q.a.phone_number,children:["Your phone number: ",Object(r.jsx)("input",{type:"text",value:"+1351245239"})]})]}),Object(r.jsxs)("div",{className:Q.a.action_buttons,children:[Object(r.jsx)("button",{children:"Save Changes"}),Object(r.jsx)("button",{children:"Discard Changes"})]})]})},$=n(11),ee=n(16),te=n.n(ee),ne=function(e){return Object(r.jsxs)("a",{className:te.a.friend,href:"/".concat(e.id),children:[Object(r.jsx)("img",{className:te.a.friend_avatar,src:e.friend_avatar,alt:"ico"}),Object(r.jsx)("div",{className:te.a.friend_name,children:e.friend_name})]})},re=function(e){return Object(r.jsx)("div",{className:te.a.menu_item,id:e.id,children:Object(r.jsxs)(D.b,{exact:!0,to:e.path,activeClassName:te.a.active,children:[Object(r.jsx)("div",{className:te.a.menu_item_icon,children:"".concat(e.icon)}),Object(r.jsx)("div",{className:te.a.menu_item_item,children:e.item})]})})},ae=function(e){var t=Object(i.a)(e.friends),n=Object(i.a)(e.menu_items);return Object(r.jsxs)("div",{className:te.a.sidebar_wrapper,children:[Object(r.jsx)("nav",{className:te.a.menu,children:n.map((function(e){return Object(r.jsx)(re,{id:e.id,path:e.path,icon:e.icon,item:e.item},e.id)}))}),e.is_auth&&Object(r.jsx)($.b,{exact:!0,path:"/profile",render:function(){return Object(r.jsxs)("div",{className:te.a.friends_bar,children:[Object(r.jsx)("div",{className:te.a.friends_header,children:"Friends"}),Object(r.jsx)("div",{className:te.a.friends_block,children:t.map((function(e){return Object(r.jsx)(ne,{id:e.id,friend_avatar:e.friend_avatar,friend_name:e.friend_name},e.id)}))})]})}})]})},ie=Object(I.b)((function(e){return{friends:e.sidebar.friends,menu_items:e.sidebar.menu_items,is_auth:Object(L.i)(e)}}),(function(e){return{}}))(ae),se=n(118),ce=n.n(se),oe=n(41),ue=n.n(oe),_e=function(e){return Object(r.jsxs)("div",{className:ue.a.item,id:e.id,children:[Object(r.jsx)("img",{src:"https://i.guim.co.uk/img/media/d31ebd49b32a5aa609a584ababb1e03bc70b4942/573_213_2929_1758/master/2929.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=a54fc963e39dd6645fce012663ed13c1",alt:"avatar"}),Object(r.jsxs)("div",{className:ue.a.post_content_wrapper,children:[Object(r.jsx)("div",{className:ue.a.author,children:Object(r.jsx)("a",{href:e.author_url,children:e.author})}),Object(r.jsx)("div",{className:ue.a.post_content,children:e.post_content})]}),Object(r.jsxs)("div",{className:ue.a.action_buttons,children:[Object(r.jsxs)("div",{className:ue.a.likes,children:[e.likes_count,"\u2764"," like"]}),Object(r.jsx)("div",{className:ue.a.add_comment,children:"add comment"})]})]})},de=function(e){var t=Object(i.a)(e.news_posts);return Object(r.jsx)("div",{className:ce.a.posts,children:t.map((function(e){return Object(r.jsx)(_e,{id:e.id,author:e.author,author_url:e.author_url,post_content:e.post_content,likes_count:e.likes_count})}))})},le=Object(I.b)((function(e){return{news_posts:e.news.news_posts}}),(function(e){return{}}))(de),pe=n(34),fe=n(119),be=n.n(fe),je=n(30),he=n.n(je),me=n(92),Oe=function(e){var t=e.is_followed?Object(r.jsx)("button",{className:he.a.followed,disabled:e.is_following,onClick:function(){return t=e.user_id,void e.unfollowUser(t);var t},children:"Unfollow"}):Object(r.jsx)("button",{onClick:function(){return t=e.user_id,void e.followUser(t);var t},disabled:e.is_following,children:"Follow"});return Object(r.jsxs)("div",{className:he.a.item,id:e.user_id,children:[Object(r.jsxs)("div",{className:he.a.avatar_follow,children:[Object(r.jsx)(D.b,{to:"/profile/".concat(e.user_id),children:Object(r.jsx)("img",{src:e.user_avatar?e.user_avatar:me.a,alt:"avatar"})}),t]}),Object(r.jsxs)("div",{className:he.a.user_info_wrapper,children:[Object(r.jsxs)("div",{className:he.a.user_info,children:[Object(r.jsx)("div",{className:he.a.user_name,children:Object(r.jsx)(D.b,{to:"/profile/".concat(e.user_id),children:e.user_name})}),Object(r.jsxs)("div",{className:he.a.user_status_message,children:['"',e.user_status_message,'"']})]}),Object(r.jsx)("div",{className:he.a.user_location_wrapper,children:Object(r.jsxs)("div",{className:he.a.user_location,children:[e.user_country,", ",e.user_city]})})]})]})},ge=n(33),ve=n(54),xe=n.n(ve),Se=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.activePage,i=e.setActivePage,s=e.portionSize,c=Math.ceil(t/n),o=[],u=1;u<=c;u++)o.push(u);var _=Math.ceil(c/s),d=Object(U.useState)(1),l=Object(ge.a)(d,2),p=l[0],f=l[1],b=(p-1)*s+1,j=p*s;Object(U.useEffect)((function(){var e=Math.ceil(a/s);f(e)}),[a]);var h=o.filter((function(e){return e>=b&&e<=j})).map((function(e){return e===a?Object(r.jsx)("span",{className:"".concat(xe.a.page," ").concat(xe.a.activePage),children:e},e):Object(r.jsx)("span",{className:xe.a.page,onClick:function(){i(e)},children:e},e)}));return Object(r.jsxs)("div",{className:xe.a.pagination,children:[p>1&&Object(r.jsx)("button",{onClick:function(){f(p-1)},children:"Prev"}),h,p<_&&Object(r.jsx)("button",{onClick:function(){f(p+1)},children:"Next"})]})},we=function(e){var t=e.users,n=e.pageSize,a=e.totalUsersCount,i=e.activePage,s=e.setActivePage,c=e.followUser,o=e.unfollowUser,u=e.is_following,_=e.portionSize;return Object(r.jsxs)("div",{className:be.a.users,children:[Object(r.jsx)(Se,{pageSize:n,activePage:i,setActivePage:s,totalItemsCount:a,portionSize:_}),t.map((function(e){var t,n=!1,a=Object(pe.a)(u);try{for(a.s();!(t=a.n()).done;){if(t.value===e.id){n=!0;break}}}catch(i){a.e(i)}finally{a.f()}return Object(r.jsx)(Oe,{user_id:e.id,user_name:e.name,user_avatar:e.photos.small,user_status_message:e.status,user_city:"u.city",user_country:"u.country",is_followed:e.followed,is_following:n,followUser:c,unfollowUser:o},e.id)}))]})},Ee=n(44),Te=function(e){Object(C.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(y.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.activePage,this.props.pageSize)}},{key:"render",value:function(){var e=this,t=Object(i.a)(this.props.users);return Object(r.jsxs)(r.Fragment,{children:[this.props.is_fetching&&Object(r.jsx)(Ee.a,{}),Object(r.jsx)(we,{users:t,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,activePage:this.props.activePage,followUser:function(t){e.props.followUser(t)},unfollowUser:function(t){e.props.unfollowUser(t)},setActivePage:this.onPageChange,portionSize:this.props.portionSize,is_following:this.props.is_following})]})}}]),n}(U.Component),Ue=Object(a.d)(Object(I.b)((function(e){return{users:Object(i.a)(e.users.users),pageSize:e.users.pageSize,totalUsersCount:e.users.totalUsersCount,activePage:e.users.activePage,is_fetching:e.users.is_fetching,is_following:e.users.is_following,portionSize:e.users.portionSize}}),{followUser:G.a,unfollowUser:G.j,getUsers:G.e}))(Te),Ne=n(29),ke=n(38),Pe=n(52),ye=n.n(Pe),Ae=function(e){var t=e.submitLogin,n=e.error,a=e.is_auth,i=e.current_route,s=e.captchaUrl;if(a)return Object(r.jsx)($.a,{to:i});var c=ke.a({email:ke.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:ke.b().min(8,"Must be longer than 8 characters").required("Required")}),o=ke.a({email:ke.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:ke.b().min(8,"Must be longer than 8 characters").required("Required"),captcha:ke.b().min(5,"Captcha must be longer than 5 characters").required("Required")}),u=n&&Object(r.jsx)("div",{className:ye.a.submit_error,children:n}),_=s&&Object(r.jsxs)("div",{className:ye.a.captcha,children:[Object(r.jsx)("img",{src:s,alt:"captcha"}),Object(r.jsx)(Ne.b,{type:"text",name:"captcha",placeholder:"Type symbols u c on image here"}),Object(r.jsx)(Ne.a,{name:"captcha"})]});return Object(r.jsx)(Ne.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:null},validationSchema:s?o:c,onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe,i=e.captcha;console.log(n,r,a,i),t(n,r,a,i)},children:Object(r.jsxs)(Ne.c,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Ne.b,{type:"text",name:"email",placeholder:"email"}),Object(r.jsx)(Ne.a,{name:"email"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Ne.b,{type:"password",name:"password",placeholder:"password"}),Object(r.jsx)(Ne.a,{name:"password"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"rememberMe",children:"Remember Me "}),Object(r.jsx)(Ne.b,{type:"checkbox",name:"rememberMe"})]}),u,_,Object(r.jsx)("button",{type:"submit",children:"Submit"})]})})},Ce=Object(I.b)((function(e){return{is_auth:Object(L.i)(e),error:Object(L.k)(e),error_code:Object(L.l)(e),current_route:Object(L.b)(e),captcha_url:Object(L.a)(e)}}),{submitLogin:G.i,getCaptcha:G.c})((function(e){var t=e.submitLogin,n=e.error,a=e.error_code,i=e.is_auth,s=e.current_route,c=e.captcha_url,o=e.getCaptcha;10===a&&o();var u=Object(U.useState)(c),_=Object(ge.a)(u,2),d=_[0],l=_[1];return Object(U.useEffect)((function(){l(c)}),[c]),Object(r.jsx)("div",{className:ye.a.login_form,children:Object(r.jsx)(Ae,{submitLogin:t,captchaUrl:d,error:n,error_code:a,is_auth:i,current_route:s})})})),Re=function(e){return function(t){return Object(r.jsx)(N.a.Suspense,{fallback:Object(r.jsx)(Ee.a,{}),children:Object(r.jsx)(e,Object(s.a)({},t))})}},Ie=N.a.lazy((function(){return n.e(4).then(n.bind(null,264))})),Le=N.a.lazy((function(){return n.e(3).then(n.bind(null,263))})),Ge=function(e){Object(C.a)(n,e);var t=Object(R.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.props.init_app()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(B,{}),Object(r.jsx)(ie,{}),Object(r.jsx)("div",{className:"main_wrapper",children:Object(r.jsxs)($.d,{children:[Object(r.jsx)($.b,{exact:!0,path:"/",render:Re(Le)}),Object(r.jsx)($.b,{path:"/profile/:userId?",render:Re(Le)}),Object(r.jsx)($.b,{path:"/dialogs",render:Re(Ie)}),Object(r.jsx)($.b,{path:"/news",render:function(){return Object(r.jsx)(le,{})}}),Object(r.jsx)($.b,{path:"/music",component:J}),Object(r.jsx)($.b,{path:"/settings",component:Z}),Object(r.jsx)($.b,{path:"/users",render:function(){return Object(r.jsx)(Ue,{})}}),Object(r.jsx)($.b,{path:"/login",render:function(){return Object(r.jsx)(Ce,{})}})]})})]}):Object(r.jsx)(Ee.a,{})}}]),n}(U.Component),De=Object(a.d)($.g,Object(I.b)((function(e){return{initialized:e.app.initialized}}),{init_app:G.f}))(Ge);P.a.render(Object(r.jsx)(N.a.StrictMode,{children:Object(r.jsx)(I.a,{store:T,children:Object(r.jsx)(D.a,{children:Object(r.jsx)(De,{})})})}),document.getElementById("root"));var Me=T;window.store=Me},28:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return _})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"k",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"f",(function(){return O}));var r=n(7),a=n.n(r),i=n(15),s=n(19),c=n(8),o=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r,i){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(c.o)(n,!0)),e.next=3,i(n);case 3:0===e.sent.data.resultCode&&(t(Object(c.o)(n,!1)),t(r(n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),u=function(e,t){return function(){var n=Object(i.a)(a.a.mark((function n(r){var i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.d.getUsers(e,t);case 2:(i=n.sent).error||(r(Object(c.m)(i.items)),r(Object(c.h)(e)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(n,e,c.b,s.d.followUser);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(n,e,c.q,s.d.unfollowUser);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(c.p)(!0)),t.next=3,s.b.getUserData(e);case 3:return r=t.sent,n(Object(c.l)(r)),n(Object(c.p)(!1)),t.next=8,s.b.getStatus(e);case 8:(i=t.sent).data?n(Object(c.j)(i.data)):n(Object(c.j)(i.statusText));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.b.setStatus(e);case 3:0===t.sent.data.resultCode&&n(Object(c.j)(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.c.getCaptchaUrl();case 2:(n=e.sent)?t(Object(c.c)(n)):console.log("AIN'T GET ANY CAPTCHA");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e,t){return function(){var n=Object(i.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.b.setProfilePhoto(e);case 2:0===n.sent.data.resultCode&&r(l(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},j=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getAuthData();case 2:return n=e.sent,r=n.data,i=r.id,o=r.email,u=r.login,t(Object(c.f)(i,o,u)),t(u?Object(c.i)(!0):Object(c.i)(!1)),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t,n,r){return function(){var o=Object(i.a)(a.a.mark((function i(o){var u,_,d,l,p,f;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.sendLoginData(e,t,n,r);case 2:if(0!==(u=a.sent).data.resultCode){a.next=10;break}return a.next=6,s.a.getAuthData();case 6:1===(_=a.sent).resultCode?(o(Object(c.f)("","","")),o(Object(c.i)(!1))):0===_.resultCode&&(d=_.data,l=d.id,p=d.email,f=d.login,o(Object(c.f)(l,p,f)),o(Object(c.i)(!0))),a.next=11;break;case 10:o(Object(c.n)(u.data.messages.toString(),u.data.resultCode));case 11:case"end":return a.stop()}}),i)})));return function(e){return o.apply(this,arguments)}}()},m=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o,u,_;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.signOut();case 2:if(0!==(n=e.sent).data.resultCode){e.next=10;break}return e.next=6,s.a.getAuthData();case 6:1===(r=e.sent).resultCode?(t(Object(c.f)("","","")),t(Object(c.i)(!1))):0===r.resultCode&&(i=r.data,o=i.id,u=i.email,_=i.login,t(Object(c.f)(o,u,_)),t(Object(c.i)(!0))),e.next=11;break;case 10:console.log(n.data.data.messages.toString());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(j());case 2:if(0!==(n=e.sent).resultCode){e.next=6;break}return e.next=6,t(l(n.data.id));case 6:t(Object(c.d)(!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={INIT_APP:"INIT_APP",SET_CURRENT_ROUTE:"SET_CURRENT_ROUTE",ADD_POST:"ADD_POST",DELETE_POST:"DELETE_POST",SEND_MESSAGE:"SEND_MESSAGE",FOLLOW_USER:"FOLLOW_USER",UNFOLLOW_USER:"UNFOLLOW_USER",SET_USERS:"SET_USERS",SET_CURRENT_USERS_PAGE:"SET_CURRENT_USERS_PAGE",TOGGLE_IS_FETCHING:"TOGGLE_IS_FETCHING",TOGGLE_FOLLOWING:"TOGGLE_FOLLOWING",SET_USER_PROFILE:"SET_USER_PROFILE",SET_USER_INFO:"SET_USER_INFO",SET_STATUS:"SET_STATUS",SET_AUTH_DATA:"SET_AUTH_DATA",SET_IS_AUTH:"SET_IS_AUTH",TOGGLE_CHECKING_AUTH:"TOGGLE_CHECKING_AUTH",STOP_SUBMIT:"STOP_SUBMIT",SET_CAPTCHA_URL:"SET_CAPTCHA_URL"}},30:function(e,t,n){e.exports={item:"User_item__3Eeyk",avatar_follow:"User_avatar_follow__kt1Dt",followed:"User_followed__s79pA",user_info_wrapper:"User_user_info_wrapper__1vI1_",user_info:"User_user_info__3BjXL",user_name:"User_user_name__h6kjB",user_status_message:"User_user_status_message__3_dA0",user_location_wrapper:"User_user_location_wrapper__PthDx",post_content_wrapper:"User_post_content_wrapper__2Wsvm",author:"User_author__3L731",post_content:"User_post_content__3VCJj",action_buttons:"User_action_buttons__JxG0b",likes:"User_likes__1FX6z",add_comment:"User_add_comment__3Qv_f"}},40:function(e,t,n){e.exports={settings_wrapper:"Settings_settings_wrapper__4goJj",settings_header:"Settings_settings_header__3mefI",person_info:"Settings_person_info__1wior",name:"Settings_name__NuVgy",login_info:"Settings_login_info__1-cb8",phone_number:"Settings_phone_number__2qE5-",action_buttons:"Settings_action_buttons__339V8"}},41:function(e,t,n){e.exports={item:"NewsPost_item__3G5Xn",post_content_wrapper:"NewsPost_post_content_wrapper__2jj08",author:"NewsPost_author__3BwoG",post_content:"NewsPost_post_content__2PyTX",action_buttons:"NewsPost_action_buttons__rp7Ay",likes:"NewsPost_likes__35b8P",add_comment:"NewsPost_add_comment__gC2BU"}},44:function(e,t,n){"use strict";var r=n(1),a=(n(0),n.p+"static/media/preloader.997c3386.svg");t.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:a,alt:"preloader",style:{width:"30px"}})})}},52:function(e,t,n){e.exports={login_form:"LoginPage_login_form__aMETl",submit_error:"LoginPage_submit_error__1P_pm"}},53:function(e,t,n){e.exports={track:"Track_track__1xXq5",cover:"Track_cover__1MvTg",track_name:"Track_track_name__GIUJR",track_duration:"Track_track_duration__3SX5C"}},54:function(e,t,n){e.exports={pagination:"Paginator_pagination__1_AFX",page:"Paginator_page__1mm3c",activePage:"Paginator_activePage___BgBI"}},79:function(e,t,n){e.exports={header:"Header_header__1IeR0",loginBlock:"Header_loginBlock__3BZjB"}},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"q",(function(){return c})),n.d(t,"m",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"p",(function(){return _})),n.d(t,"o",(function(){return d})),n.d(t,"l",(function(){return l})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"n",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return g}));var r=n(3),a=function(e){return{type:r.a.ADD_POST,new_post:e}},i=function(e){return{type:r.a.SEND_MESSAGE,new_message:e}},s=function(e){return{type:r.a.FOLLOW_USER,user_id:e}},c=function(e){return{type:r.a.UNFOLLOW_USER,user_id:e}},o=function(e){return{type:r.a.SET_USERS,users:e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:r.a.SET_CURRENT_USERS_PAGE,activePage:e}},_=function(e){return{type:r.a.TOGGLE_IS_FETCHING,is_fetching:e}},d=function(e,t){return{type:r.a.TOGGLE_FOLLOWING,user_id:e,is_fetching:t}},l=function(e){return{type:r.a.SET_USER_PROFILE,current_visited_user:e}},p=function(e){return{type:r.a.SET_USER_INFO,current_visited_user_changes:e}},f=function(e){return{type:r.a.SET_STATUS,status:e}},b=function(e,t,n){return{type:r.a.SET_AUTH_DATA,data:{id:e,email:t,login:n}}},j=function(e){return{type:r.a.SET_IS_AUTH,is_auth:e}},h=function(e,t){return{type:r.a.STOP_SUBMIT,submit_error:e,submit_error_code:t}},m=function(e){return{type:r.a.SET_CAPTCHA_URL,captcha_url:e}},O=function(e){return{type:r.a.INIT_APP,initialized:e}},g=function(e){return{type:r.a.SET_CURRENT_ROUTE,current_route:e}}},82:function(e,t,n){e.exports={music_wrapper:"Music_music_wrapper__3cvpV",music_header:"Music_music_header__aohfk"}},92:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.9273afa0.png"}},[[252,1,2]]]);
//# sourceMappingURL=main.987f0c83.chunk.js.map