{"version":3,"sources":["components/common/withAuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/Posts/MyPosts.module.css","components/Profile/Posts/Post/Post.module.css","components/Forms/PostForm.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/MyPosts.jsx","components/Profile/Posts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileInfoForm.jsx","components/Profile/ProfileInfo/Status.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileInfo/ProfileInfoContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToProps","state","is_auth","getIsAuth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","PostForm","addPost","validationSchema","Yup","new_post","max","initialValues","onSubmit","values","type","name","Post","className","s","item","id","src","alt","post_content_wrapper","author","href","author_url","post_content","action_buttons","likes","likes_count","add_comment","MyPosts","posts","map","p","MyPostsContainer","profile","dispatch","action","addPostActionCreator","ProfileInfoForm","fullName","userId","contacts","lookingForAJob","lookingForAJobDescription","submitProfileInfoChange","error","aboutMe","serverErrorMessage","submit_error","facebook","github","instagram","mainLink","twitter","vk","website","youtube","htmlFor","placeholder","component","Status","statusText","ownProfile","updateStatus","useState","status","setStatus","editMode","setEditMode","useEffect","toggleEditMode","data-testid","autoFocus","onChange","e","target","value","onClick","onDoubleClick","ProfileInfo","is_looking","avatar","onPhotoUpload","profileInfo_wrapper","banner","person_info","avatar_block","user_name","description_block","description_header","description_content","ProfileInfoContainer","current_visited_user","isFetching","user_id","savePhoto","setError","useDispatch","Preloader","looking_for_job","contact","push","photos","large","avatarPlaceholder","changed_info","a","profileAPI","setProfileInfo","response","console","log","data","resultCode","setUserInfo","messages","length","files","Profile","profile_wrapper","ProfileContainer","initProfile","prevProps","prevState","snapshot","userIds_are_not_equal","match","params","current_user_status_changed","current_route","setCurrentRoute","getUserData","compose","getCurrentVisitedUserId","is_fetching","getIsFetchingProfileData","getCurrentVisitedUserstatus","getCurrentUserId","getCurrentRoute","getAuthData"],"mappings":"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","file":"static/js/3.dd08a551.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { getIsAuth } from '../../redux/selectors';\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tis_auth: getIsAuth(state),\r\n})\r\nconst withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif(!this.props.is_auth) return <Redirect to=\"/login\" />\r\n\t\t\treturn(\r\n\t\t\t\t<Component {...this.props} />\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\nexport default withAuthRedirect;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo_wrapper\":\"ProfileInfo_profileInfo_wrapper__PT8YA\",\"banner\":\"ProfileInfo_banner__2jObx\",\"person_info\":\"ProfileInfo_person_info__34u4h\",\"avatar_block\":\"ProfileInfo_avatar_block__1nFGo\",\"user_name\":\"ProfileInfo_user_name__38mv_\",\"looking_for_job\":\"ProfileInfo_looking_for_job__2IveP\",\"description_block\":\"ProfileInfo_description_block__1TkpC\",\"description_content\":\"ProfileInfo_description_content__2lwQJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_wrapper\":\"Profile_profile_wrapper__1YLEU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3ng4M\",\"new_post\":\"MyPosts_new_post__bwkT4\",\"new_post_content\":\"MyPosts_new_post_content__2WQf-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1I4R3\",\"post_content_wrapper\":\"Post_post_content_wrapper__3Z6oL\",\"author\":\"Post_author__1dN6P\",\"post_content\":\"Post_post_content__1rFbh\",\"action_buttons\":\"Post_action_buttons__1kYno\",\"likes\":\"Post_likes__34yDk\",\"add_comment\":\"Post_add_comment__nNteY\"};","import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\n\r\nconst PostForm = ({addPost}) => {\r\n\tconst initialValues = {\r\n\t\tnew_post: '',\r\n\t}\r\n\r\n\tconst onSubmit = values => {\r\n\t\taddPost(values.new_post);\r\n\t}\r\n\r\n\tconst validationSchema = Yup.object({\r\n\t\tnew_post: Yup.string().max(200, \"Your post text is too long\")\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={initialValues}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={onSubmit}\r\n\t\t>\r\n\t\t\t<Form>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\tname=\"new_post\"\r\n\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='new_post' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type=\"submit\">Add Post</button>\r\n\t\t\t</Form>\r\n\t\t</Formik>\r\n\t);\r\n}\r\n\r\nexport default PostForm;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n\treturn(\r\n\t\t<div className={s.item} id={props.id}>\r\n\t\t\t<img src=\"https://i.guim.co.uk/img/media/d31ebd49b32a5aa609a584ababb1e03bc70b4942/573_213_2929_1758/master/2929.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=a54fc963e39dd6645fce012663ed13c1\" alt=\"avatar\"/>\r\n\t\t\t<div className={s.post_content_wrapper}>\r\n\t\t\t\t<div className={s.author}>\r\n\t\t\t\t\t<a href={props.author_url}>{props.author}</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.post_content}>{props.post_content}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.action_buttons}>\r\n\t\t\t\t<div className={s.likes}>{props.likes_count}{\"\\u2764\"} like</div>\t\t\t\r\n\t\t\t\t<div className={s.add_comment}>add comment</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t/* <div className={s.item}>{props.post_contents}</div> */\r\n\t);\r\n}\r\n\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport PostForm from '../../Forms/PostForm';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\n\r\nconst MyPosts = (props) => {\r\n\tconst posts = props.posts;\r\n\r\n\tconst addPost = (new_post) => {\r\n\t\t\tprops.addPost(new_post);\r\n\t};\r\n\r\n\treturn(\r\n\t\t<div className={s.posts}>\r\n\t\t\t<div className={s.new_post}>\r\n\t\t\t\t{/* <div><textarea ref={newPost} className={s.new_post_content} placeholder=\"What is on your mind?\" onChange={handleChange} value={newPostState}></textarea></div>\r\n\t\t\t\t<button onClick={addNewPost} >Add New</button>\r\n\t\t\t\t<button>Upload Image</button> */}\r\n\t\t\t\t<PostForm addPost={addPost} /> \r\n\t\t\t</div>\r\n\t\t\t{posts.map(p => <Post \r\n\t\t\t\tkey={p.id}\r\n\t\t\t\tid={p.id}\r\n\t\t\t\tauthor={p.author}\r\n\t\t\t\tpost_content={p.post_content}\r\n\t\t\t\tlikes_count={p.likes_count} \r\n\t\t\t/>)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\nexport default MyPosts;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/actionCreators';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconst stateCopy = {\r\n\t\t...state,\r\n\t\tprofile: {\r\n\t\t\tposts: [...state.profile.posts],\r\n\t\t}\r\n\t}\r\n\r\n\treturn ({\r\n\t\tposts: stateCopy.profile.posts,\r\n\t});\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn ({\r\n\t\taddPost: (new_post) => {\r\n\t\t\tconst action = addPostActionCreator(new_post);\r\n\t\t\t\tdispatch(action);\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nconst ProfileInfoForm = ({fullName,userId,contacts,lookingForAJob,lookingForAJobDescription,submitProfileInfoChange,error,aboutMe}) => {\r\n\tconst initialValues = {\r\n\t\t...contacts,\r\n\t\tlookingForAJob,\r\n\t\tlookingForAJobDescription,\r\n\t\tfullName,\r\n\t\taboutMe\r\n\t}\r\n\r\n\tconst onSubmit = values => {\r\n\t\tlet {lookingForAJob,lookingForAJobDescription,fullName,facebook,github,instagram,mainLink,twitter,vk,website,youtube,aboutMe} = values;\r\n\t\tconst formData = {userId,fullName,lookingForAJob,aboutMe, lookingForAJobDescription,contacts:{facebook,github,instagram,mainLink,twitter,vk,website,youtube}}\r\n\t\tsubmitProfileInfoChange(formData)\r\n\t}\r\n\r\n\tconst validationSchema = Yup.object({\r\n\t})\r\n\r\n\tlet serverErrorMessage = error && <div className={s.submit_error}>{error}</div>\r\n\r\n\treturn(\r\n\t\t<Formik\r\n\t\t\tinitialValues={initialValues}\r\n\t\t\tvalidationSchema={validationSchema}\r\n\t\t\tonSubmit={onSubmit}\r\n\t\t>\r\n\t\t\t<Form>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"fullName\">Your Full Name is </label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"fullName\"\r\n\t\t\t\t\t\tplaceholder='fullName'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='fullName' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"lookingForAJobDescription\">Describe your skills </label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent=\"textarea\"\r\n\t\t\t\t\t\tname=\"lookingForAJobDescription\"\r\n\t\t\t\t\t\tplaceholder='lookingForAJobDescription'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='lookingForAJobDescription' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"aboutMe\">Tell about yourself </label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tcomponent=\"textarea\"\r\n\t\t\t\t\t\tname=\"aboutMe\"\r\n\t\t\t\t\t\tplaceholder='aboutMe'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='aboutMe' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"facebook\">Your facebook account link</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"facebook\"\r\n\t\t\t\t\t\tplaceholder='facebook'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='facebook' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"github\">Your github account link</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"github\"\r\n\t\t\t\t\t\tplaceholder='github'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='github' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"instagram\">Your instagram account link</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"instagram\"\r\n\t\t\t\t\t\tplaceholder='instagram'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='instagram' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"mainLink\">Your mainLink</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"mainLink\"\r\n\t\t\t\t\t\tplaceholder='mainLink'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='mainLink' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"twitter\">Your twitter account link</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"twitter\"\r\n\t\t\t\t\t\tplaceholder='twitter'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='twitter' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"vk\">Your vk account link</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"vk\"\r\n\t\t\t\t\t\tplaceholder='vk'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='vk' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"website\">Your website</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"website\"\r\n\t\t\t\t\t\tplaceholder='website'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='website' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"youtube\">Your youtube account link</label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"youtube\"\r\n\t\t\t\t\t\tplaceholder='youtube'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ErrorMessage name='youtube' />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"lookingForAJob\">I'm looking for a job </label>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname=\"lookingForAJob\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{serverErrorMessage}\r\n\t\t\t\t<button type=\"submit\">Submit</button>\r\n\t\t\t</Form>\r\n\t\t</Formik>\r\n\t);\r\n}\r\n\r\nexport default ProfileInfoForm;\r\n","\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nconst Status = ({ statusText, ownProfile, updateStatus, serverErrorMessage }) => {\r\n\tconst [status, setStatus] = useState(statusText)\r\n\tconst [editMode, setEditMode] = useState(false)\r\n\tconst [error,setError] = useState(serverErrorMessage)\r\n\r\n\tif (status === '' && ownProfile) {\r\n\t\tsetStatus('Double-click here to add status');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(statusText)\r\n\t}, [statusText]);\r\n\r\n\tconst toggleEditMode = () => {\r\n\t\tsetEditMode(!editMode);\r\n\t}\r\n\r\n\tconst handleStatusChange = (e) => {\r\n\t\tsetStatus(e.target.value)\r\n\t}\r\n\r\n\tconst updateUserStatus = () => {\r\n\t\ttoggleEditMode()\r\n\t\tupdateStatus(status);\r\n\t}\r\n\r\n\tlet userStatus;\r\n\r\n\tif (ownProfile) {\r\n\t\tuserStatus = !editMode\r\n\t\t\t? <span key=\"status\" data-testid='ownStatusText' onDoubleClick={toggleEditMode}>{statusText}</span> : <div><input data-testid='statusChangeInput' type=\"text\" autoFocus={true} onChange={handleStatusChange} value={status} /><button data-testid=\"saveStatusButton\" onClick={updateUserStatus}>Save Changes</button></div>\r\n\t}\r\n\telse {\r\n\t\tuserStatus = <span key=\"status\" data-testid='statusText'>{status}</span>;\r\n\t}\r\n\treturn userStatus;\r\n}\r\n\r\nexport default Status;","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Status from './Status';\r\n\r\n\r\nconst ProfileInfo = ({ fullName, is_looking, avatar, ownProfile, onPhotoUpload, status, updateStatus, contacts, setEditMode, lookingForAJobDescription, aboutMe, serverErrorMessage }) => {\r\n\treturn <div className={s.profileInfo_wrapper}>\r\n\t\t<div className={s.banner}>\r\n\t\t\t<img src=\"https://source.unsplash.com/1000x200/?city\" alt=\"newyear\" />\r\n\t\t</div>\r\n\t\t<div className={s.person_info}>\r\n\t\t\t<div className={s.avatar_block}>\r\n\t\t\t\t<div className={s.user_name}>{fullName} {is_looking}</div>\r\n\t\t\t\t{avatar}\r\n\t\t\t\t{ownProfile && <input type=\"file\" onChange={onPhotoUpload} />}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.description_block}>\r\n\t\t\t\t<Status statusText={status} ownProfile={ownProfile} updateStatus={updateStatus} serverErrorMessage={serverErrorMessage}/>\r\n\t\t\t\t<h3 className={s.description_header}>About me: </h3>\r\n\t\t\t\t<div className={s.description_content}>\r\n\t\t\t\t\t{aboutMe}\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3 className={s.description_header}>My Skills:</h3>\r\n\t\t\t\t<div className={s.description_content}>\r\n\t\t\t\t\t{lookingForAJobDescription}\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3 className={s.description_header}>Contacts:</h3>\r\n\t\t\t\t{contacts}\r\n\t\t\t\t{ownProfile && <button onClick={() => setEditMode(true)}>Change Your Info</button>}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>;\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React, { useState } from 'react';\r\nimport Preloader from '../../common/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport avatarPlaceholder from '../../../assets/images/avatar.png';\r\nimport ProfileInfoForm from './ProfileInfoForm';\r\nimport ProfileInfo from './ProfileInfo';\r\nimport {setUserInfo} from './../../../redux/actionCreators';\r\nimport { profileAPI } from '../../../api/API';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst ProfileInfoContainer = ({ current_visited_user, isFetching, status, updateStatus, user_id, savePhoto, editMode, setEditMode }) => {\r\n\r\n\tlet [error,setError] = useState(null);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tif (isFetching) return <Preloader />\r\n\tif (!current_visited_user) return <Preloader />\r\n\tlet ownProfile = current_visited_user.userId === user_id;\r\n\r\n\tlet is_looking = current_visited_user.lookingForAJob\r\n\t\t? <span className={s.looking_for_job}>ðŸ¤‘</span>\r\n\t\t: <span className={s.looking_for_job}>ðŸ¤ </span>;\r\n\r\n\tlet contacts = [];\r\n\tfor (let contact in current_visited_user.contacts) {\r\n\t\tif (current_visited_user.contacts[contact]) {\r\n\t\t\tcontacts.push(\r\n\t\t\t\t<div key={contact} className={s.contact}>{`${contact}: ${current_visited_user.contacts[contact]}`}</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse { contacts.push(<div key={contact} className={s.contact}>{`${contact}: --`}</div>) }\r\n\t}\r\n\r\n\tlet avatar = current_visited_user.photos.large\r\n\t\t? <img src={current_visited_user.photos.large} alt=\"avatar\" />\r\n\t\t: <img src={avatarPlaceholder} alt=\"avatar\" />\r\n\r\n\t\r\n\tconst onPhotoUpload = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tsavePhoto(e.target.files[0],user_id);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log('No file loaded');\r\n\t\t}\r\n\t}\r\n\r\n\tconst submitProfileInfoChange = async (changed_info) => {\r\n\t\tconst response = await profileAPI.setProfileInfo(changed_info);\r\n\t\tconsole.log(response);\r\n\t\tif(response.data.resultCode === 0) {\r\n\t\t\tdispatch(setUserInfo(changed_info))\r\n\t\t\tsetEditMode(false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tresponse.data.messages.length && setError(response.data.messages[0]);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\teditMode \r\n\t\t? <ProfileInfoForm userId={current_visited_user.userId} fullName={current_visited_user.fullName} contacts={current_visited_user.contacts} lookingForAJob={current_visited_user.lookingForAJob} lookingForAJobDescription={current_visited_user.lookingForAJobDescription} submitProfileInfoChange={submitProfileInfoChange} error={error} aboutMe={current_visited_user.aboutMe}/>\r\n\t\t: <ProfileInfo fullName={current_visited_user.fullName} is_looking={is_looking} avatar={avatar} ownProfile={ownProfile} onPhotoUpload={onPhotoUpload} status={status} updateStatus={updateStatus} contacts={contacts} setEditMode={setEditMode} lookingForAJobDescription={current_visited_user.lookingForAJobDescription} aboutMe={current_visited_user.aboutMe} />\r\n\t);\r\n\r\n}\r\n\r\nexport default ProfileInfoContainer;\r\n\r\n//I am develloping web appliactions with ReactJS using Redux as state management tool.\r\n//I'm switching to programming from being an industrial climber.","import React, { useState } from 'react';\r\nimport s from './Profile.module.css';\r\nimport MyPostsContainer from './Posts/MyPostsContainer';\r\nimport ProfileInfoContainer from './ProfileInfo/ProfileInfoContainer';\r\n\r\nconst Profile = (props) => {\r\n\tlet [editMode,setEditMode] = useState(false);\r\n\r\n\tif(editMode) return (<main className={s.profile_wrapper}>\r\n\t\t<ProfileInfoContainer {...props} editMode={editMode} setEditMode={setEditMode}/>\r\n\t</main>)\r\n\telse return(\r\n\t\t<main className={s.profile_wrapper}>\r\n\t\t\t<ProfileInfoContainer {...props} editMode={editMode} setEditMode={setEditMode}/>\r\n\t\t\t<MyPostsContainer />\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport Profile from './Profile';\r\nimport { getUserData, updateStatus, savePhoto, getAuthData } from '../../redux/thunkCreators';\r\nimport { setCurrentRoute } from '../../redux/actionCreators';\r\nimport { connect } from 'react-redux';\r\nimport withAuthRedirect from '../common/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getCurrentVisitedUserId, getIsFetchingProfileData, getCurrentVisitedUserstatus, getCurrentUserId, getCurrentRoute } from '../../redux/selectors';\r\nimport Preloader from '../common/Preloader';\r\n\r\nclass ProfileContainer extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.initProfile();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst userIds_are_not_equal = prevProps.match.params.userId !== this.props.match.params.userId;\r\n\t\t// const current_user_photo_changed = prevProps.current_visited_user.photos.large !== this.props.current_visited_user.photos.large;\r\n\t\tconst current_user_status_changed = prevProps.status !== this.props.status;\r\n\t\tconst somethingChanged = userIds_are_not_equal || /*current_user_photo_changed ||*/ current_user_status_changed;\r\n\t\tsomethingChanged && this.initProfile()\r\n\t}\r\n\r\n\tinitProfile() {\r\n\t\tlet { userId } = this.props.match.params;\r\n\t\tif (!userId) {\r\n\t\t\tif (this.props.current_route !== `/profile`) this.props.setCurrentRoute(`/profile`)\r\n\t\t\tthis.props.getUserData(this.props.user_id);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.props.current_route !== `/profile/${userId}`) this.props.setCurrentRoute(`/profile/${userId}`)\r\n\t\t\tthis.props.getUserData(userId);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <Profile {...this.props} />\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn (\r\n\t\t{\r\n\t\t\tcurrent_visited_user: getCurrentVisitedUserId(state),\r\n\t\t\tis_fetching: getIsFetchingProfileData(state),\r\n\t\t\tstatus: getCurrentVisitedUserstatus(state),\r\n\t\t\tuser_id: getCurrentUserId(state),\r\n\t\t\tcurrent_route: getCurrentRoute(state)\r\n\t\t}\r\n\t)\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { getUserData, updateStatus, setCurrentRoute, getCurrentRoute, savePhoto, getAuthData }),\r\n\twithAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}