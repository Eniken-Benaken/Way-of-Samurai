(this["webpackJsonpway-of-samurai"]=this["webpackJsonpway-of-samurai"]||[]).push([[0],{119:function(e,t,n){e.exports={posts:"News_posts__3V4HP"}},120:function(e,t,n){e.exports={users:"Users_users__3-FMn",pagination:"Users_pagination__2OmqP",page:"Users_page__2Unf2",active_page:"Users_active_page__An9pd"}},14:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return l}));var r=n(3),a=n.n(r),s=n(13),i=n(116),c=n.n(i).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5b4d3778-fd4c-41ab-b731-1b26cfea860b"}}),o={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return c.post("follow/".concat(e))},unfollowUser:function(e){return c.delete("follow/".concat(e))}},u={getUserData:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data})).catch((function(e){console.error(e)}))},getStatus:function(e){var t=e;return t||(t=14327),c.get("profile/status/".concat(t))},setStatus:function(e){return c.put("profile/status",{status:e})},setProfilePhoto:function(e){var t=new FormData;return t.append("image",e),c.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}})},setProfileInfo:function(e){return c.put("profile",e)}},_={getAuthData:function(){return c.get("auth/me").then((function(e){return e.data}))},sendLoginData:function(e,t,n,r){return c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return console.log("authAPI.sendLoginData() - response",e),e}))},signOut:function(){return c.delete("auth/login").then((function(e){return console.log("authAPI.signOut() - response",e),e}))}},l={getCaptchaUrl:function(){return Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("security/get-captcha-url");case 2:return t=e.sent,e.abrupt("return",t.data.url);case 4:case"end":return e.stop()}}),e)})))()}}},15:function(e,t,n){e.exports={sidebar_wrapper:"Sidebar_sidebar_wrapper__3bqJp",menu:"Sidebar_menu__oKIKk",menu_item:"Sidebar_menu_item__2pcG6",active:"Sidebar_active__3_vA7",menu_item_icon:"Sidebar_menu_item_icon__1SAAl",friends_bar:"Sidebar_friends_bar__2DiYk",friends_header:"Sidebar_friends_header__125Qt",friends_block:"Sidebar_friends_block__385Hh",friend:"Sidebar_friend__3bzw9",friend_avatar:"Sidebar_friend_avatar__2xHms",friend_name:"Sidebar_friend_name__1i7aI"}},150:function(e,t,n){},17:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"o",(function(){return a})),n.d(t,"p",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"n",(function(){return j}));var r=function(e){return e.auth.is_auth},a=function(e){return e.auth.submit_error},s=function(e){return e.auth.submit_error_code},i=function(e){return e.app.current_route},c=function(e){return e.auth.login},o=function(e){return e.auth.email},u=function(e){return e.auth.id},_=function(e){return e.auth.captcha_url},l=function(e){return e.profile.current_visited_user},d=function(e){return e.profile.status},p=function(e){return e.profile.is_fetching},f=function(e){return e.profile.photoUploaded},b=function(e){return e.dialogs},h=function(e){return e.profile.posts},m=function(e){return e.sidebar.friends},j=function(e){return e.sidebar.menu_items}},253:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(25),s=n(85),i={news_posts:[{id:1,author:"Buddy Melon",author_url:"/buddymelon",post_content:"Today's Weather is perfect!",likes_count:26},{id:2,author:"John Smith",author_url:"/johnsmith",post_content:"Hello! I'm learning React js too!!",likes_count:202}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return e},o=n(54),u={friends:[{id:1,friend_avatar:"https://million-wallpapers.ru/wallpapers/5/51/424703866779568/nejtiri-2017-avatara-2.jpg",friend_name:"Tairin"},{id:2,friend_avatar:"https://pbs.twimg.com/media/EgFRKr2WAAA-RRY.jpg",friend_name:"Tsu Tei"},{id:3,friend_avatar:"https://www.film.ru/sites/default/files/images/Sigourney-Weaver2.jpg",friend_name:"Grace Austin"}],menu_items:[{id:1,icon:"\ud83d\udc64",item:"Profile",path:"/profile"},{id:2,icon:"\u2709",item:"Messages",path:"/dialogs"},{id:3,icon:"\ud83d\udc65",item:"Users",path:"/users"},{id:4,icon:"\ud83d\udce2",item:"News",path:"/news"},{id:5,icon:"\u266b",item:"Music",path:"/music"},{id:6,icon:"\u26ee",item:"Settings",path:"/settings"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return e},l=n(7),d=n(2),p=n(3),f=n.n(p),b=n(13),h=n(14);function m(e,t,n,r){return e.map((function(e){return e[n]===t?Object(d.a)(Object(d.a)({},e),r):e}))}var j="wos/users/FOLLOW_USER",g="wos/users/UNFOLLOW_USER",O="wos/users/SET_USERS",v="wos/users/SET_CURRENT_USERS_PAGE",x="wos/users/TOGGLE_FOLLOWING",w=function(e){return{type:j,user_id:e}},k=function(e){return{type:g,user_id:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:v,active_page:e}},N=function(e,t){return{type:x,user_id:e,is_fetching:t}},S=function(){var e=Object(b.a)(f.a.mark((function e(t,n,r,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(n,!0)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&(t(N(n,!1)),t(r(n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),U={users:[],page_size:10,total_users_count:501,active_page:1,is_fetching:!1,is_following:[],portion_size:20},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{users:m(e.users,t.user_id,"id",{followed:!0})});case g:return Object(d.a)(Object(d.a)({},e),{},{users:m(e.users,t.user_id,"id",{followed:!1})});case O:return Object(d.a)(Object(d.a)({},e),{},{users:Object(l.a)(t.users)});case v:return Object(d.a)(Object(d.a)({},e),{},{active_page:t.active_page});case x:return Object(d.a)(Object(d.a)({},e),{},{is_following:t.is_fetching?[].concat(Object(l.a)(e.is_following),[t.user_id]):e.is_following.filter((function(e){return e!==t.user_id}))});default:return e}},T=n(30),C=n(55),E=n(117),D=Object(a.c)({profile:o.b,dialogs:s.a,news:c,sidebar:_,users:P,auth:T.a,app:C.a}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,M=Object(a.e)(D,A(Object(a.a)(E.a))),I=n(0),R=n.n(I),z=n(63),L=n.n(z),G=n(4),q=n(5),F=n(10),B=n(11),H=(n(150),n(16)),W=n(17),X=n(23),Y=n(79),J=n.n(Y),V=function(e){var t=e.is_auth,n=e.login,a=e.signOut,s=t?[Object(r.jsxs)("span",{children:["Welcome, ",n]},"span"),Object(r.jsx)("button",{onClick:a,children:"Sign Out"},"signOut")]:Object(r.jsx)(X.b,{to:"/login",children:"Sign in"},"signin");return Object(r.jsxs)("header",{className:J.a.header,children:[Object(r.jsx)("img",{src:"https://dummyimage.com/160x46/ffffff/5cc6fe&text=React+Net",alt:"fuck-off"}),Object(r.jsx)("div",{className:J.a.loginBlock,children:s})]})},K=function(e){Object(F.a)(n,e);var t=Object(B.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"render",value:function(){return Object(r.jsx)(V,{is_auth:this.props.is_auth,login:this.props.login,signOut:this.props.signOut})}}]),n}(I.Component),Q=Object(H.b)((function(e){return{email:Object(W.c)(e),login:Object(W.e)(e),is_auth:Object(W.j)(e)}}),{signOut:T.d})(K),Z=n(51),$=n.n(Z),ee=function(e){return Object(r.jsxs)("div",{className:$.a.track,children:[Object(r.jsx)("div",{className:$.a.cover,children:"\u266a"}),Object(r.jsx)("div",{className:$.a.track_name,children:e.track_name}),Object(r.jsx)("div",{className:$.a.track_duration,children:e.track_duration})]})},te=n(82),ne=n.n(te),re=function(e){return Object(r.jsxs)("div",{className:ne.a.music_wrapper,children:[Object(r.jsx)("div",{className:ne.a.music_header,children:"My music"}),Object(r.jsx)(ee,{track_name:"\u0416\u0438\u0432\u0438 - \u0412\u0430\u0441\u044f \u041e\u0431\u043b\u043e\u043c\u043e\u0432",track_duration:"4:37"}),Object(r.jsx)(ee,{track_name:"Dance Of The Fireflies - Lifescapes",track_duration:"4:38"})]})},ae=n(37),se=n.n(ae),ie=function(e){return Object(r.jsxs)("div",{className:se.a.settings_wrapper,children:[Object(r.jsx)("div",{className:se.a.settings_header,children:"Personal info"}),Object(r.jsxs)("div",{className:se.a.person_info,children:[Object(r.jsxs)("div",{className:se.a.name,children:["Your name: ",Object(r.jsx)("input",{type:"text",value:"Dem"})," Your lastname: ",Object(r.jsx)("input",{type:"text",value:"Pigeon"})]}),Object(r.jsxs)("div",{className:se.a.login_info,children:["Your email: ",Object(r.jsx)("input",{type:"email",value:"Dem.Pigeon@gmail.com"})," Your password: ",Object(r.jsx)("input",{type:"password",value:"PigeonRules"})]}),Object(r.jsxs)("div",{className:se.a.phone_number,children:["Your phone number: ",Object(r.jsx)("input",{type:"text",value:"+1351245239"})]})]}),Object(r.jsxs)("div",{className:se.a.action_buttons,children:[Object(r.jsx)("button",{children:"Save Changes"}),Object(r.jsx)("button",{children:"Discard Changes"})]})]})},ce=n(9),oe=n(15),ue=n.n(oe),_e=function(e){return Object(r.jsxs)("a",{className:ue.a.friend,href:"/".concat(e.id),children:[Object(r.jsx)("img",{className:ue.a.friend_avatar,src:e.friend_avatar,alt:"ico"}),Object(r.jsx)("div",{className:ue.a.friend_name,children:e.friend_name})]})},le=function(e){return Object(r.jsx)("div",{className:ue.a.menu_item,id:e.id,children:Object(r.jsxs)(X.b,{exact:!0,to:e.path,activeClassName:ue.a.active,children:[Object(r.jsx)("div",{className:ue.a.menu_item_icon,children:"".concat(e.icon)}),Object(r.jsx)("div",{className:ue.a.menu_item_item,children:e.item})]})})},de=function(e){var t=Object(l.a)(e.friends),n=Object(l.a)(e.menu_items);return Object(r.jsxs)("div",{className:ue.a.sidebar_wrapper,children:[Object(r.jsx)("nav",{className:ue.a.menu,children:n.map((function(e){return Object(r.jsx)(le,{id:e.id,path:e.path,icon:e.icon,item:e.item},e.id)}))}),e.is_auth&&Object(r.jsx)(ce.b,{exact:!0,path:"/profile",render:function(){return Object(r.jsxs)("div",{className:ue.a.friends_bar,children:[Object(r.jsx)("div",{className:ue.a.friends_header,children:"Friends"}),Object(r.jsx)("div",{className:ue.a.friends_block,children:t.map((function(e){return Object(r.jsx)(_e,{id:e.id,friend_avatar:e.friend_avatar,friend_name:e.friend_name},e.id)}))})]})}})]})},pe=Object(H.b)((function(e){return{friends:Object(W.i)(e),menu_items:Object(W.n)(e),is_auth:Object(W.j)(e)}}),{})(de),fe=n(119),be=n.n(fe),he=n(38),me=n.n(he),je=function(e){return Object(r.jsxs)("div",{className:me.a.item,id:"".concat(e.id),children:[Object(r.jsx)("img",{src:"https://i.guim.co.uk/img/media/d31ebd49b32a5aa609a584ababb1e03bc70b4942/573_213_2929_1758/master/2929.jpg?width=445&quality=45&auto=format&fit=max&dpr=2&s=a54fc963e39dd6645fce012663ed13c1",alt:"avatar"}),Object(r.jsxs)("div",{className:me.a.post_content_wrapper,children:[Object(r.jsx)("div",{className:me.a.author,children:Object(r.jsx)("a",{href:e.author_url,children:e.author})}),Object(r.jsx)("div",{className:me.a.post_content,children:e.post_content})]}),Object(r.jsxs)("div",{className:me.a.action_buttons,children:[Object(r.jsxs)("div",{className:me.a.likes,children:[e.likes_count,"\u2764"," like"]}),Object(r.jsx)("div",{className:me.a.add_comment,children:"add comment"})]})]})},ge=function(e){var t=Object(l.a)(e.news_posts);return Object(r.jsx)("div",{className:be.a.posts,children:t.map((function(e){return Object(r.jsx)(je,{id:e.id,author:e.author,author_url:e.author_url,post_content:e.post_content,likes_count:e.likes_count})}))})},Oe=Object(H.b)((function(e){return{news_posts:e.news.news_posts}}),(function(e){return{}}))(ge),ve=n(31),xe=n(120),we=n.n(xe),ke=n(39),ye=n.n(ke),Ne=n(94),Se=function(e){var t=e.user_id,n=e.user_name,a=e.user_avatar,s=e.user_status_message,i=e.is_followed,c=e.is_following,o=e.followUser,u=e.unfollowUser,_=i?Object(r.jsx)("button",{className:ye.a.followed,disabled:c,onClick:function(){return function(e){u(e)}(t)},children:"Unfollow"}):Object(r.jsx)("button",{onClick:function(){return function(e){o(e)}(t)},disabled:c,children:"Follow"});return Object(r.jsxs)("div",{className:ye.a.item,id:"".concat(t),children:[" ",Object(r.jsxs)("div",{className:ye.a.avatar_follow,children:[Object(r.jsx)(X.b,{to:"/profile/".concat(t),children:Object(r.jsx)("img",{src:a||Ne.a,alt:"avatar"})}),_]}),Object(r.jsx)("div",{className:ye.a.user_info_wrapper,children:Object(r.jsxs)("div",{className:ye.a.user_info,children:[Object(r.jsx)("div",{className:ye.a.user_name,children:Object(r.jsx)(X.b,{to:"/profile/".concat(t),children:n})}),Object(r.jsxs)("div",{className:ye.a.user_status_message,children:['"',s,'"']})]})})]})},Ue=n(29),Pe=n(52),Te=n.n(Pe),Ce=function(e){for(var t=e.total_items_count,n=e.page_size,a=e.active_page,s=e.set_active_page,i=e.portion_size,c=Math.ceil(t/n),o=[],u=1;u<=c;u++)o.push(u);var _=Math.ceil(c/i),l=Object(I.useState)(1),d=Object(Ue.a)(l,2),p=d[0],f=d[1],b=(p-1)*i+1,h=p*i;Object(I.useEffect)((function(){var e=Math.ceil(a/i);f(e)}),[a]);var m=o.filter((function(e){return e>=b&&e<=h})).map((function(e){return e===a?Object(r.jsx)("span",{className:"".concat(Te.a.page," ").concat(Te.a.active_page),children:e},e):Object(r.jsx)("span",{className:Te.a.page,onClick:function(){s(e)},children:e},e)}));return Object(r.jsxs)("div",{className:Te.a.pagination,children:[p>1&&Object(r.jsx)("button",{onClick:function(){f(p-1)},children:"Prev"}),m,p<_&&Object(r.jsx)("button",{onClick:function(){f(p+1)},children:"Next"})]})},Ee=function(e){var t=e.users,n=e.total_users_count,a=e.page_size,s=e.active_page,i=e.set_active_page,c=e.followUser,o=e.unfollowUser,u=e.is_following,_=e.portion_size;return Object(r.jsxs)("div",{className:we.a.users,children:[Object(r.jsx)(Ce,{page_size:a,active_page:s,set_active_page:i,total_items_count:n,portion_size:_}),t.map((function(e){var t,n=!1,a=Object(ve.a)(u);try{for(a.s();!(t=a.n()).done;){if(t.value===e.id){n=!0;break}}}catch(s){a.e(s)}finally{a.f()}return Object(r.jsx)(Se,{user_id:e.id,user_name:e.name,user_avatar:e.photos.small,user_status_message:e.status,is_followed:e.followed,is_following:n,followUser:c,unfollowUser:o},e.id)}))]})},De=n(43),Ae=function(e){Object(F.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(G.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.getUsers(t,e.props.page_size)},e}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.active_page,this.props.page_size)}},{key:"render",value:function(){var e=this,t=Object(l.a)(this.props.users);return Object(r.jsxs)(r.Fragment,{children:[this.props.is_fetching&&Object(r.jsx)(De.a,{}),Object(r.jsx)(Ee,{users:t,page_size:this.props.page_size,total_users_count:this.props.total_users_count,active_page:this.props.active_page,followUser:function(t){e.props.followUser(t)},unfollowUser:function(t){e.props.unfollowUser(t)},set_active_page:this.onPageChange,portion_size:this.props.portion_size,is_following:this.props.is_following})]})}}]),n}(I.Component);var Me=Object(a.d)(Object(H.b)((function(e){var t=e.users,n=t.users,r=t.page_size,a=t.total_users_count,s=t.active_page,i=t.is_fetching,c=t.is_following,o=t.portion_size;return{users:Object(l.a)(n),page_size:r,total_users_count:a,active_page:s,is_fetching:i,is_following:Object(l.a)(c),portion_size:o}}),{followUser:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S(n,e,w,h.d.followUser);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUser:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S(n,e,k,h.d.unfollowUser);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(r){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.d.getUsers(e,t);case 2:(a=n.sent).error||(r((s=a.items,{type:O,users:s})),r(y(e)));case 4:case"end":return n.stop()}var s}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Ae),Ie=n(26),Re=n(35),ze=n(50),Le=n.n(ze),Ge=function(e){var t=e.submitLogin,n=e.error,a=e.is_auth,s=e.current_route,i=e.captchaUrl;if(a)return Object(r.jsx)(ce.a,{to:s});var c=Re.a({email:Re.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:Re.b().min(8,"Must be longer than 8 characters").required("Required")}),o=Re.a({email:Re.b().email("Invalid email format").min(10,"Must be longer than 10 characters").max(40,"Nice try, nobody has a email that long").required("Required"),password:Re.b().min(8,"Must be longer than 8 characters").required("Required"),captcha:Re.b().min(4,"Captcha must be longer than 3 characters").required("Required")}),u=n&&Object(r.jsx)("div",{className:Le.a.submit_error,children:n}),_=i&&Object(r.jsxs)("div",{className:Le.a.captcha,children:[Object(r.jsx)("img",{src:i,alt:"captcha"}),Object(r.jsx)(Ie.b,{type:"text",name:"captcha",placeholder:"Type symbols u c on image here"}),Object(r.jsx)(Ie.a,{name:"captcha"})]});return Object(r.jsx)(Ie.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:null},validationSchema:i?o:c,onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe,s=e.captcha;t(n,r,a,s)},children:Object(r.jsxs)(Ie.c,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Ie.b,{type:"text",name:"email",placeholder:"email"}),Object(r.jsx)(Ie.a,{name:"email"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Ie.b,{type:"password",name:"password",placeholder:"password"}),Object(r.jsx)(Ie.a,{name:"password"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"rememberMe",children:"Remember Me "}),Object(r.jsx)(Ie.b,{type:"checkbox",name:"rememberMe"})]}),u,_,Object(r.jsx)("button",{type:"submit",children:"Submit"})]})})},qe=Object(H.b)((function(e){return{is_auth:Object(W.j)(e),error:Object(W.o)(e),error_code:Object(W.p)(e),current_route:Object(W.b)(e),captcha_url:Object(W.a)(e)}}),{submitLogin:T.e,getCaptcha:T.c})((function(e){var t=e.submitLogin,n=e.error,a=e.error_code,s=e.is_auth,i=e.current_route,c=e.captcha_url,o=e.getCaptcha;10===a&&o();var u=Object(I.useState)(c),_=Object(Ue.a)(u,2),l=_[0],d=_[1];return Object(I.useEffect)((function(){d(c)}),[c]),Object(r.jsx)("div",{className:Le.a.login_form,children:Object(r.jsx)(Ge,{submitLogin:t,captchaUrl:l,error:n,error_code:a,is_auth:s,current_route:i})})})),Fe=function(e){return function(t){return Object(r.jsx)(R.a.Suspense,{fallback:Object(r.jsx)(De.a,{}),children:Object(r.jsx)(e,Object(d.a)({},t))})}},Be=R.a.lazy((function(){return n.e(4).then(n.bind(null,266))})),He=R.a.lazy((function(){return Promise.all([n.e(5),n.e(3)]).then(n.bind(null,265))})),We=function(e){Object(F.a)(n,e);var t=Object(B.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.init_app()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(Q,{}),Object(r.jsx)(pe,{}),Object(r.jsx)("div",{className:"main_wrapper",children:Object(r.jsxs)(ce.d,{children:[Object(r.jsx)(ce.b,{path:"/profile/:userId?",render:Fe(He)}),Object(r.jsx)(ce.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(ce.a,{to:"/profile"})}}),Object(r.jsx)(ce.b,{path:"/dialogs",render:Fe(Be)}),Object(r.jsx)(ce.b,{path:"/news",render:function(){return Object(r.jsx)(Oe,{})}}),Object(r.jsx)(ce.b,{path:"/music",component:re}),Object(r.jsx)(ce.b,{path:"/settings",component:ie}),Object(r.jsx)(ce.b,{path:"/users",render:function(){return Object(r.jsx)(Me,{})}}),Object(r.jsx)(ce.b,{path:"/login",render:function(){return Object(r.jsx)(qe,{})}})]})})]}):Object(r.jsx)(De.a,{})}}]),n}(I.Component),Xe=Object(a.d)(ce.g,Object(H.b)((function(e){return{initialized:e.app.initialized}}),{init_app:C.b}))(We);L.a.render(Object(r.jsx)(R.a.StrictMode,{children:Object(r.jsx)(H.a,{store:M,children:Object(r.jsx)(X.a,{children:Object(r.jsx)(Xe,{})})})}),document.getElementById("root")),window.store=M},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return j}));var r=n(2),a=n(3),s=n.n(a),i=n(13),c=n(14),o="wos/auth/SET_AUTH_DATA",u="wos/auth/SET_IS_AUTH",_="wos/auth/STOP_SUBMIT",l="wos/auth/SET_CAPTCHA_URL",d=function(e,t,n){return{type:o,data:{id:e,email:t,login:n}}},p=function(e){return{type:u,is_auth:e}},f=function(e){return{type:l,captcha_url:e}},b=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getAuthData();case 2:return n=e.sent,r=n.data,a=r.id,i=r.email,o=r.login,t(d(a,i,o)),t(p(!!o)),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e,t,n,r){return function(){var a=Object(i.a)(s.a.mark((function a(i){var o,u,l,f,b,h;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.sendLoginData(e,t,n,r);case 2:if(0!==(o=a.sent).data.resultCode){a.next=10;break}return a.next=6,c.a.getAuthData();case 6:1===(u=a.sent).resultCode?(i(d(null,"","")),i(p(!1))):0===u.resultCode&&(l=u.data,f=l.id,b=l.email,h=l.login,i(d(f,b,h)),i(p(!0))),a.next=11;break;case 10:i((s=o.data.messages.toString(),m=o.data.resultCode,{type:_,submit_error:s,submit_error_code:m}));case 11:case"end":return a.stop()}var s,m}),a)})));return function(e){return a.apply(this,arguments)}}()},m=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.signOut();case 2:if(0!==(n=e.sent).data.resultCode){e.next=10;break}return e.next=6,c.a.getAuthData();case 6:1===(r=e.sent).resultCode?(t(d(null,"","")),t(p(!1))):0===r.resultCode&&(a=r.data,i=a.id,o=a.email,u=a.login,t(d(i,o,u)),t(p(!0))),e.next=11;break;case 10:console.log(n.data.data.messages.toString());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.getCaptchaUrl();case 2:(n=e.sent)?t(f(n)):console.log("AIN'T GET ANY CAPTCHA");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g={id:null,email:null,login:null,is_auth:!1,checking_auth:!1,submit_error:"",submit_error_code:null,captcha_url:null};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(r.a)(Object(r.a)({},e),t.data);case u:return Object(r.a)(Object(r.a)({},e),{},{is_auth:t.is_auth});case _:return Object(r.a)(Object(r.a)({},e),{},{submit_error:t.submit_error,submit_error_code:t.submit_error_code});case l:return Object(r.a)(Object(r.a)({},e),{},{captcha_url:t.captcha_url,submit_error_code:null});default:return e}}},37:function(e,t,n){e.exports={settings_wrapper:"Settings_settings_wrapper__4goJj",settings_header:"Settings_settings_header__3mefI",person_info:"Settings_person_info__1wior",name:"Settings_name__NuVgy",login_info:"Settings_login_info__1-cb8",phone_number:"Settings_phone_number__2qE5-",action_buttons:"Settings_action_buttons__339V8"}},38:function(e,t,n){e.exports={item:"NewsPost_item__3G5Xn",post_content_wrapper:"NewsPost_post_content_wrapper__2jj08",author:"NewsPost_author__3BwoG",post_content:"NewsPost_post_content__2PyTX",action_buttons:"NewsPost_action_buttons__rp7Ay",likes:"NewsPost_likes__35b8P",add_comment:"NewsPost_add_comment__gC2BU"}},39:function(e,t,n){e.exports={item:"User_item__3Eeyk",avatar_follow:"User_avatar_follow__kt1Dt",followed:"User_followed__s79pA",user_info_wrapper:"User_user_info_wrapper__1vI1_",user_info:"User_user_info__3BjXL",user_name:"User_user_name__h6kjB",user_status_message:"User_user_status_message__3_dA0",user_location_wrapper:"User_user_location_wrapper__PthDx",post_content_wrapper:"User_post_content_wrapper__2Wsvm",author:"User_author__3L731",post_content:"User_post_content__3VCJj",action_buttons:"User_action_buttons__JxG0b",likes:"User_likes__1FX6z",add_comment:"User_add_comment__3Qv_f"}},43:function(e,t,n){"use strict";var r=n(1),a=(n(0),n.p+"static/media/preloader.96123056.svg");t.a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:a,alt:"preloader",style:{width:"30px"}})})}},50:function(e,t,n){e.exports={login_form:"LoginPage_login_form__aMETl",submit_error:"LoginPage_submit_error__1P_pm"}},51:function(e,t,n){e.exports={track:"Track_track__1xXq5",cover:"Track_cover__1MvTg",track_name:"Track_track_name__GIUJR",track_duration:"Track_track_duration__3SX5C"}},52:function(e,t,n){e.exports={pagination:"Paginator_pagination__1_AFX",page:"Paginator_page__1mm3c",active_page:"Paginator_active_page__IHo59"}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return g}));var r=n(7),a=n(2),s=n(3),i=n.n(s),c=n(13),o=n(14),u="wos/profile/ADD_POST",_="wos/profile/DELETE_POST",l="wos/profile/SET_STATUS",d="wos/profile/TOGGLE_IS_FETCHING",p="wos/profile/SET_USER_PROFILE",f=function(e){return{type:u,new_post:e}},b=function(e){return{type:l,status:e}},h=function(e){return{type:"wos/profile/TOGGLE_IS_PHOTO_UPLOADED",photoUploaded:e}},m=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getUserData - Dispatched",(new Date).getSeconds()),n({type:d,is_fetching:!0}),t.next=4,o.b.getUserData(e);case 4:return r=t.sent,n({type:p,current_visited_user:r}),t.next=8,o.b.getStatus(e);case 8:(a=t.sent).data?n(b(a.data)):n(b(a.statusText));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,o.b.setStatus(e);case 5:0===t.sent.data.resultCode&&n(b(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(c.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("savePhoto - Dispatched",(new Date).getSeconds()),n.next=3,o.b.setProfilePhoto(e);case 3:0===n.sent.data.resultCode&&(r(m(t)),console.log("photoUploaded changed to true"),r(h(!0)));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},O={posts:[{id:1,author_name:"Dem Pigeon",author_id:14327,post_content:"Hey, My name is Dem Pigeon",likes_count:13},{id:2,author_name:"Dem Pigeon",author_id:14327,post_content:"This is my first post",likes_count:2}],current_visited_user:null,status:"",is_fetching:!1,photoUploaded:!1};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(a.a)(Object(a.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[{id:e.posts.length+1,author_name:"Dem Pigoen",author_id:14327,post_content:t.new_post,likes_count:0}])});case _:return Object(a.a)(Object(a.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case p:return Object(a.a)(Object(a.a)({},e),{},{current_visited_user:t.current_visited_user});case l:return Object(a.a)(Object(a.a)({},e),{},{status:t.status});case d:return Object(a.a)(Object(a.a)({},e),{},{is_fetching:t.is_fetching});default:return e}}},55:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(2),a=n(3),s=n.n(a),i=n(13),c=n(30),o=n(54),u="wos/app/INIT_APP",_="wos/app/SET_CURRENT_ROUTE",l=function(e){return{type:_,current_route:e}},d=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(c.b)());case 2:if(0!==(n=e.sent).resultCode){e.next=6;break}return e.next=6,t(Object(o.c)(n.data.id));case 6:t({type:u,initialized:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p={initialized:!1,current_route:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(r.a)(Object(r.a)({},e),{},{initialized:t.initialized});case _:return Object(r.a)(Object(r.a)({},e),{},{current_route:t.current_route});default:return e}}},79:function(e,t,n){e.exports={header:"Header_header__1IeR0",loginBlock:"Header_loginBlock__3BZjB"}},82:function(e,t,n){e.exports={music_wrapper:"Music_music_wrapper__3cvpV",music_header:"Music_music_header__aohfk"}},85:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(7),a=n(2),s="wos/dialogs/SEND_MESSAGE",i=function(e){return{type:s,new_message:e}},c={dialogs:[{id:"pavlo",dialog_name:"Pavlo",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/7/7e/70px-Pavle.jpg"},{id:"meyrin",dialog_name:"Meyrin",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/de/70px-Marin.jpg"},{id:"katya",dialog_name:"Katya",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/2/2c/70px-Katia.jpg"},{id:"bruno",dialog_name:"Bruno",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/d/d6/70px-Bruno.jpg"},{id:"marko",dialog_name:"Marko",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/c/cc/70px-Marko.jpg"},{id:"roman",dialog_name:"Roman",dialog_avatar:"https://static.wikia.nocookie.net/this-war-of-mine/images/0/07/70px-Roman.jpg"}],messages:[{message_id:1,message:"We need to get food.",author_id:0,author_name:"Dem Pigeon"},{message_id:2,message:"This is so wrong to steal food from others like us!",author_id:"pavlo",author_name:"Pavlo"},{message_id:3,message:"I would eat anything!",author_id:0,author_name:"Dem Pigeon"},{message_id:4,message:"I haven't slept for a long time",author_id:"pavlo",author_name:"Pavlo"},{message_id:5,message:"Smoke is soothing me.",author_id:0,author_name:"Dem Pigeon"},{message_id:6,message:"I hope we will be able to warm up this shelter",author_id:"pavlo",author_name:"Pavlo"}],newMessageState:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{message_id:e.messages.length+1,author_id:0,author_name:"Dem Pigoen",message:t.new_message}]),newMessageState:""});default:return e}}},94:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.9273afa0.png"}},[[253,1,2]]]);
//# sourceMappingURL=main.4bc295bf.chunk.js.map